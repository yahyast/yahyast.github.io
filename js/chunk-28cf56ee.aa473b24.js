(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28cf56ee"],{"0b4b":function(t,e,a){},"2a59":function(t,e,a){"use strict";a.r(e);var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"management-layouts",class:{"management-layouts--collapse":t.TwitterHidden}},[a("div",{staticClass:"management-layouts__sidebar"},[a("ManagementSidebar")],1),a("routerView")],1)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block"},[a("div",{staticClass:"management-sidebar"},[a("router-link",{staticClass:"management-sidebar__logo logo-ai",attrs:{to:"/"}}),a("div",{staticClass:"px-4"},[a("div",{staticClass:"mb-4"},[a("b-button",{attrs:{text:"Trend Baru",text_icon_left:"plus",kind:"primary",width:"full"},nativeOn:{click:function(e){t.openModalTrend=!t.openModalTrend}}})],1)]),a("div",{staticClass:"management-sidebar__content"},[a("div",{staticClass:"box-target scrollbox",attrs:{tabindex:"0"}},[a("div",{staticClass:"scrollbox-container"},[a("div",{staticClass:"box-target__header p-4"},[a("div",{staticClass:"field field--icon-left w-full"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"field-style",attrs:{placeholder:"Cari Trend"},domProps:{value:t.keyword},on:{keyup:t.searchKeyword,input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),a("span",{staticClass:"icon-field"},[a("b-icon",{attrs:{name:"search"}})],1)])]),a("div",{staticClass:"box-target__body"},[a("div",{staticClass:"collection-target"},[t._l(t.list_data,(function(e){return a("div",{staticClass:"collection-target__item collection-crawling"},[a("routerLink",{staticClass:"flex-grow text-left truncate",attrs:{to:"/manajemen/isu/"+e.id+"/"+t.encodeDetailData(e)}},[t._v(t._s(e.label))])],1)})),t.list_data.length>0||"loading"===t.status_list_trend.status?a("div",{staticClass:"block text-center mt-6 mb-6"},["loading"===t.status_list_trend.status?a("div",{staticClass:"relative"},[a("b-loading",{attrs:{text:"Memuat data...",kind:"circular"}})],1):a("div",{staticClass:"px-4"},[t.list_trend.pagination&&t.list_trend.pagination.hasNext&&!0===t.list_trend.pagination.hasNext?a("b-button",{staticClass:"w-full",attrs:{size:"small",text:"Muat Label Lainnya...",kind:"tertiary"},nativeOn:{click:function(e){return t.loadMore()}}}):t._e()],1)]):a("div",{staticClass:"text-center mt-5 mb-5"},[a("span",[t._v("Trend tidak ditemukan.")])])],2)])])])]),a("div",{directives:[{name:"closable-menu-sidebar-general-management",rawName:"v-closable-menu-sidebar-general-management",value:{exclude:["menuSidebarGeneralActiveManagement"],handler:"closeMenuGeneralSidebar"},expression:"{exclude: ['menuSidebarGeneralActiveManagement'], handler: 'closeMenuGeneralSidebar'}"}],staticClass:"floating-more",on:{click:function(e){return t.toggleMore()}}},[a("b-button",{attrs:{text:"Menu Lainnya",text_icon_left:"more-horizontal",kind:"tertiary"}})],1)],1),a("div",{ref:"menuSidebarGeneralActiveManagement",staticClass:"card-menu-popup card-menu-popup--more",class:{"card-menu-popup--show":t.openMore}},[a("MenuSidebarGeneral")],1),a("div",{staticClass:"modal",class:{"modal--show":t.openModalTrend}},[a("div",{staticClass:"modal-overlay"}),a("form",{staticClass:"modal-container",on:{submit:function(e){return t.submit(e)}}},[a("div",{staticClass:"modal-container__header"},[a("h2",[t._v("Tambah Trend")]),a("b-button",{attrs:{icon_only:"x",type:"button"},nativeOn:{click:function(e){t.openModalTrend=!t.openModalTrend}}})],1),a("div",{staticClass:"modal-container__body"},[a("div",{staticClass:"box-form-target",on:{"&scroll":function(e){return t.handleScroll()}}},[a("div",{staticClass:"nuding-scroll",class:{"nuding-scroll--show":!t.nudingScroll,"nuding-scroll--hide":t.nudingScroll}},[a("b-icon",{attrs:{name:"chevrons-down"}}),a("span",[t._v("Gulir untuk mengisi data lainnya")])],1),a("div",{staticClass:"field mb-8"},[t._m(0),a("div",{staticClass:"grid grid-cols-3 gap-4"},t._l(t.list_gatra,(function(e){return a("div",{staticClass:"ui-radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.gatra,expression:"model.gatra"}],attrs:{type:"radio",name:"gatra"},domProps:{value:e.id,checked:t._q(t.model.gatra,e.id)},on:{change:function(a){return t.$set(t.model,"gatra",e.id)}}}),a("div",{staticClass:"ui-radio-style"},[t._m(1,!0),a("label",[t._v(t._s(e.label))])])])})),0),t.$v.model.gatra.$error&&!t.$v.model.gatra.required?a("span",{staticClass:"text-xs text-red-500 block pt-2"},[t._v("Gatra dibutuhkan")]):t._e()]),a("div",{staticClass:"field mb-8"},[t._m(2),a("div",{staticClass:"field-adding-keywords"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tmpMustWord,expression:"tmpMustWord"}],staticClass:"field-style",attrs:{placeholder:"Tulis keyword disini..."},domProps:{value:t.tmpMustWord},on:{input:function(e){e.target.composing||(t.tmpMustWord=e.target.value)}}}),a("b-button",{attrs:{kind:"tertiary",text:"Tambahkan"},nativeOn:{click:function(e){return t.addMustWord()}}})],1),a("div",{staticClass:"box-added"},[t._l(t.model.must_word,(function(e,i){return[a("b-button",{attrs:{size:"small",text_icon_right:"x",text:e},nativeOn:{click:function(a){return t.removeMustWord(e)}}}),a("div",{staticClass:"field field--icon-right field-on-operator"},[t._m(3,!0),a("div",{staticClass:"field-icon"},[a("b-icon",{attrs:{name:"chevron-down"}})],1)])]}))],2),t.$v.model.must_word.$error?[t.$v.model.must_word.required?t._e():a("span",{staticClass:"text-xs text-red-500 block"},[t._v("Minimal 1 keyword")]),t.$v.model.must_word.maxLength?t._e():a("span",{staticClass:"text-xs text-red-500 block"},[t._v("Batas maksimal 5 keyword")])]:t._e()],2),a("div",{staticClass:"field mb-8"},[t._m(4),a("div",{staticClass:"field-adding-keywords"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tmpExcludeWord,expression:"tmpExcludeWord"}],staticClass:"field-style",attrs:{placeholder:"Tulis keyword disini..."},domProps:{value:t.tmpExcludeWord},on:{input:function(e){e.target.composing||(t.tmpExcludeWord=e.target.value)}}}),a("b-button",{attrs:{kind:"tertiary",text:"Tambahkan"},nativeOn:{click:function(e){return t.addExcludeWord()}}})],1),a("div",{staticClass:"box-added"},[t._l(t.model.exclude_word,(function(e,i){return[a("b-button",{attrs:{size:"small",text_icon_right:"x",text:e},nativeOn:{click:function(a){return t.removeExcludeWord(e)}}}),i!=t.model.exclude_word.length-1?a("span",{staticClass:"text-xs"},[t._v("dan")]):t._e()]}))],2),t.$v.model.exclude_word.$error?[t.$v.model.exclude_word.required?t._e():a("span",{staticClass:"text-xs text-red-500 block"},[t._v("Minimal 1 keyword")]),t.$v.model.exclude_word.maxLength?t._e():a("span",{staticClass:"text-xs text-red-500 block"},[t._v("Batas maksimal 5 keyword")])]:t._e()],2),a("div",{staticClass:"field mb-8"},[t._m(5),t._m(6),a("multiselect",{attrs:{options:t.optionsLimitWord,multiple:!0,"group-values":"opt","group-label":"type","group-select":!0,"open-direction":"bottom",placeholder:"Tulis keyword disini (minimal 3 karakter)","track-by":"name",label:"name",loading:t.loadingLimitWord,searchable:!0,"internal-search":!1,"clear-on-select":!1,"close-on-select":!1,"options-limit":300,"max-height":600,"show-no-results":!0,"hide-selected":!1},on:{"search-change":t.asyncFind},model:{value:t.model.limit_word,callback:function(e){t.$set(t.model,"limit_word",e)},expression:"model.limit_word"}},[a("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("keywords yang dicari tidak ditemukan.")])]),t.$v.model.limit_word.$error?[t.$v.model.limit_word.required?t._e():a("span",{staticClass:"text-xs text-red-500 block"},[t._v("Minimal 1 keyword")]),t.$v.model.limit_word.maxLength?t._e():a("span",{staticClass:"text-xs text-red-500 block"},[t._v("Batas maksimal 5 keyword")])]:t._e()],2),a("div",{staticClass:"field mb-8"},[t._m(7),t._m(8),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.label,expression:"model.label"}],staticClass:"field-style",attrs:{placeholder:"Tulis tanda disini..."},domProps:{value:t.model.label},on:{input:function(e){e.target.composing||t.$set(t.model,"label",e.target.value)}}}),t.$v.model.label.$error&&!t.$v.model.label.required?a("span",{staticClass:"text-xs text-red-500 block pt-2"},[t._v("Label dibutuhkan")]):t._e()]),a("div",{staticClass:"bg-blue-500 p-4 text-white rounded"},[a("strong",{staticClass:"mb-2 block"},[t._v("Ringkasan Trend")]),a("ul",{staticClass:"summary"},[a("li",[t._v("Cari "),a("span",{staticClass:"highlight"},[t._v(" "+t._s(t.model.gatra?t.model.gatra:"-"))]),t._v(" dengan "),a("em",[t._v("keywords")]),t._v(" dari "),a("span",{staticClass:"highlight"},[t._v(" "+t._s(t.model.must_word&&t.model.must_word.length>0?t.arrayToString(t.model.must_word):"-")+" ")])]),a("li",[t._v("Hindari "),a("em",[t._v("keywords")]),t._v(" dari "),a("span",{staticClass:"highlight"},[t._v(t._s(t.model.exclude_word&&t.model.exclude_word.length>0?t.arrayToString(t.model.exclude_word):"-"))])]),a("li",[t._v("Batasi "),a("em",[t._v("keywords")]),t._v(" dari "),a("span",{staticClass:"highlight"},[t._v(t._s(t.model.limit_word&&t.model.limit_word.length>0?t.arrayToString(t.model.limit_word,"name"):"-"))])])])])])]),a("div",{staticClass:"modal-container__footer"},[a("b-button",{attrs:{text:"Simpan",kind:"primary",type:"submit"}})],1)])])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"label-field mb-2 block font-bold font-bold"},[t._v("Pilih Gatra"),a("sup",[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-radio box-radio--default"},[a("span")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"label-field mb-2 block font-bold"},[t._v("Temukan Trend di "),a("em",[t._v("keywords")]),a("sup",[t._v("*")]),t._v(":")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("select",{staticClass:"field-style"},[a("option",[t._v("dan")]),a("option",[t._v("atau")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"label-field mb-2 block font-bold"},[t._v("Hindari Trend "),a("em",[t._v("keywords")]),a("sup",[t._v("*")]),t._v(":")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"label-field mb-2 block font-bold"},[t._v("Batasi Trend dari "),a("em",[t._v("keywords")]),t._v(":")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-sm mb-2"},[a("em",[t._v("Keywords")]),t._v(" berdasakan organisasi, tokoh dan isu")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"label-field mb-2 block font-bold"},[t._v("Labeli Trend"),a("sup",[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-sm mb-2"},[t._v("Agar memudahkan penggunaan trend, silakan beri label untuk trend ini, misal "),a("strong",[t._v(' "Isu Presiden 2024" ')])])}],l=a("1da1"),d=a("5530"),c=(a("96cf"),a("159b"),a("d81d"),a("b64b"),a("b0c0"),a("a434"),a("2f62")),u=a("b5ae"),m=a("de5b"),v=a("8e5f"),h=a.n(v),_={name:"ManagementSidebar",components:{MenuSidebarGeneral:m["a"],Multiselect:h.a},directives:{"closable-menu-sidebar-general-management":{bind:function(t,e,a){i=function(i){i.stopPropagation();var n=e.value,s=n.handler,r=n.exclude,o=!1;r.forEach((function(t){if(!o){var e=a.context.$refs[t];e&&(o=e.contains(i.target))}})),t.contains(i.target)||o||a.context[s]()},document.addEventListener("click",i),document.addEventListener("touchstart",i)},unbind:function(){document.removeEventListener("click",i),document.removeEventListener("touchstart",i)}}},data:function(){return{openMore:!1,openModalTrend:!1,nudingScroll:!1,model:{gatra:null,must_word:[],exclude_word:[],limit_word:[],label:null},tmpMustWord:null,tmpExcludeWord:null,tmpLimitWord:null,optionsLimitWord:[],loadingLimitWord:!1,list_data:[],limit:10,page:1,keyword:"",status:"true",timeout:null,redirectId:null}},validations:{model:{gatra:{required:u["required"]},must_word:{required:u["required"],minLength:Object(u["minLength"])(1),maxLength:Object(u["maxLength"])(5)},exclude_word:{required:u["required"],minLength:Object(u["minLength"])(1),maxLength:Object(u["maxLength"])(5)},limit_word:{},label:{required:u["required"]}}},computed:Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(c["b"])("trend",["status_list_trend","list_trend"])),Object(c["b"])("graph",["status_list_gatra","list_gatra"])),Object(c["b"])("issue",["status_find_suggestion","find_suggestion"])),{},{id:function(){return this.$route.params.id}}),watch:{list_trend:function(t){if(t&&t.doc&&t.doc.length>0){for(var e=0,a=0;a<t.doc.length;a++)this.list_data.push(t.doc[a]),null!=this.redirectId&&t.doc[a].id==this.redirectId&&(e=a,this.redirectId);1==this.page&&this.$router.push({name:"IssueOfActor",params:{id:t.doc[e].id,data:this.encodeDetailData(t.doc[e])}}).catch((function(){}))}else{var i={status:"false",cancel:null,code:null};this.$store.commit("news/setStatusListNews",i)}},id:function(t,e){},openModalTrend:function(t){!0===t&&this.reset()},list_gatra:function(t){var e=[];t&&t.length>0&&(e=t,Object.keys(e).map((function(t,a){e[a]["selected"]=!1}))),this.opsiGatra=e},find_suggestion:function(t){if(t){if(t.organisations&&t.organisations.length>0){var e=t.organisations.map((function(t){return{id:t.id,name:t.name}})),a={type:"Organisasi",opt:e};this.optionsLimitWord.push(a)}if(t.figures&&t.figures.length>0){var i=t.figures.map((function(t){return{id:t.id,name:t.name}})),n={type:"Tokoh",opt:i};this.optionsLimitWord.push(n)}if(t.issues&&t.issues.length>0){var s=t.issues.map((function(t){return{id:t.id,name:t.name}})),r={type:"Isu",opt:s};this.optionsLimitWord.push(r)}}}},methods:{changeStatus:function(t){console.log("e"),console.log(t),this.getData(!0)},loadMore:function(){this.page+=1,this.getData()},searchKeyword:function(){clearTimeout(this.timeout);var t=this;this.timeout=setTimeout((function(){t.getData(!0)}),650)},toggleMore:function(){this.openMore=!this.openMore},closeMenuGeneralSidebar:function(){this.openMore=!1},limitText:function(t){return"dan ".concat(t," lainnya")},asyncFind:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(t.length>2)){a.next=5;break}return e.loadingLimitWord=!0,e.optionsLimitWord=[],a.next=5,e.getDataLimitWord(t);case 5:case"end":return a.stop()}}),a)})))()},clearAll:function(){this.selectedCountries=[]},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.limit;a&&(i=this.limit*this.page),e&&(this.list_data=[],this.page=1);var n={status:"loading",cancel:null,code:null};this.$store.commit("news/setStatusListNews",n),this.$store.dispatch("trend/getListTrend",[i,this.page,this.keyword,"",this.status]).catch((function(e){n.status=!1,t.$store.commit("news/setStatusListNews",n)}))},getListGatra:function(){this.$store.dispatch("graph/getListGatra")},getDataLimitWord:function(t){var e=this;this.$store.dispatch("issue/getFindSuggestion",[t]).then((function(t){e.loadingLimitWord=!1}))},addMustWord:function(){null!=this.tmpMustWord&&(this.model.must_word.push(this.tmpMustWord),this.tmpMustWord=null)},removeMustWord:function(t){var e=this.model.must_word.indexOf(t);-1!==e&&this.model.must_word.splice(e,1)},addExcludeWord:function(){null!=this.tmpExcludeWord&&(this.model.exclude_word.push(this.tmpExcludeWord),this.tmpExcludeWord=null)},removeExcludeWord:function(t){var e=this.model.exclude_word.indexOf(t);-1!==e&&this.model.exclude_word.splice(e,1)},setEmptyModel:function(){this.model={gatra:null,must_word:[],exclude_word:[],limit_word:[],label:null}},setErrors:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!0===t?this.error_name="":!0!==t&&null!==e&&(this.error_name=e.name?e.name:"")},reset:function(){var t=this;this.setEmptyModel(!0),this.$nextTick((function(){t.$v.$reset()})),this.setErrors(!0)},submit:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.preventDefault(),e.$v.$touch(),!e.$v.$invalid){a.next=4;break}return a.abrupt("return");case 4:return Event.$emit("showLoading",!0),a.next=7,e.$store.dispatch("trend/create",e.model).then((function(t){"success"===t.result?(e.openModalTrend=!1,e.$router.push({path:"/manajemen/isu"}),e.getData(!0),Event.$emit("success","Data berhasil ditambahkan!")):Event.$emit("error")}));case 7:case"end":return a.stop()}}),a)})))()},handleScroll:function(){this.nudingScroll=!0}},mounted:function(){this.getData(!0),this.getListGatra()},created:function(){var t=this;Event.$on("getDataTrend",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.getData(e,!0),t.redirectId=a}))}},g=_,p=(a("60bc"),a("f627"),a("2877")),b=Object(p["a"])(g,r,o,!1,null,null,null),f=b.exports,x={name:"ManagementPageShell",components:{ManagementSidebar:f},data:function(){return{TwitterHidden:!1}},methods:{},created:function(){var t=this;Event.$on("ctaTwitterHidden",(function(){t.TwitterHidden=!t.TwitterHidden}))}},w=x,k=Object(p["a"])(w,n,s,!1,null,null,null);e["default"]=k.exports},"60bc":function(t,e,a){"use strict";a("0b4b")},d450:function(t,e,a){},f627:function(t,e,a){"use strict";a("d450")}}]);
//# sourceMappingURL=chunk-28cf56ee.aa473b24.js.map