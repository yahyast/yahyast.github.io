(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0be0de"],{"2f2f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-general"},[a("div",{staticClass:"flex items-center justify-between mb-5"},[a("div",{staticClass:"flex items-center gap-4"},[a("div",{staticClass:"block w-30"},[a("div",{staticClass:"field field--icon-right w-full"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.items_per_page,expression:"items_per_page"}],staticClass:"field-style",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.items_per_page=e.target.multiple?a:a[0]},function(e){return t.sizeChange(e)}]}},t._l(t.size,(function(e,s){return a("option",{key:s,domProps:{value:e}},[t._v(t._s(e))])})),0),a("span",{staticClass:"icon-field"},[a("b-icon",{attrs:{name:"chevron-down"}})],1)])]),a("div",{staticClass:"block w-64"},[a("div",{staticClass:"field field--icon-right w-full"},["loading"===t.filter_role_status_list.status?a("div",{staticClass:"field-style field-style--loading"},[a("b-loading",{attrs:{kind:"circular"}})],1):a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.role_id,expression:"role_id"}],staticClass:"field-style",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.role_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("- Semua Role -")]),t.filter_role_list&&t.filter_role_list.length>0?t._l(t.filter_role_list,(function(e,s){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})):t._e()],2),a("span",{staticClass:"icon-field"},[a("b-icon",{attrs:{name:"chevron-down"}})],1)])])]),a("div",{staticClass:"block w-64"},[a("div",{staticClass:"field field--icon-left w-full"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"field-style",attrs:{placeholder:"Search..."},domProps:{value:t.keyword},on:{keyup:t.searchKeyword,input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),a("span",{staticClass:"icon-field"},[a("b-icon",{attrs:{name:"search"}})],1)])])]),a("div",{staticClass:"block"},[a("router-link",{attrs:{to:{name:"GeneralUsersCreate",params:{}}}},[a("b-button",{attrs:{text:"User Baru",kind:"primary",text_icon_left:"plus"}})],1)],1)]),a("div",{staticClass:"block w-full"},[a("div",{staticClass:"card-bg-theme p-6 rounded shadow w-full"},[a("table",{staticClass:"main-table"},[a("thead",[a("tr",t._l(t.tableThead,(function(e,s){return a("th",{key:s,class:(e.number&&!0===e.number?"number":"")+(e.action&&!0===e.action?" thead-action":"")},[t._v(t._s(e.name))])})),0)]),a("tbody",["loading"===t.status_list.status?a("tr",[a("td",{staticClass:"text-center",attrs:{colspan:t.tableThead.length}},[a("div",{staticClass:"relative p-10"},[a("b-loading",{attrs:{text:"Memuat data"}})],1)])]):t.list&&t.list.items&&t.list.items.length>0?t._l(t.list.items,(function(e,s){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.name?e.name:"-"))]),a("td",[t._v(t._s(e.username?e.username:"-"))]),a("td",[t._v(t._s(e.email?e.email:"-"))]),a("td",[t._v(t._s(e.role&&e.role.name?e.role.name:"-"))]),a("td",[a("div",{staticClass:"flex justify-end w-full"},[a("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Ubah",expression:"'Ubah'"}],staticClass:"mr-2",attrs:{to:"/users/"+e.id+"/edit"}},[a("b-button",{attrs:{icon_only:"edit",text:"Edit"}})],1),a("b-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Hapus",expression:"'Hapus'"}],attrs:{kind:"danger",icon_only:"trash",text:"Delete"},nativeOn:{click:function(a){return t.deleteData(e.id,e.name)}}})],1)])])})):a("tr",[a("td",{staticClass:"text-center",attrs:{colspan:t.tableThead.length}},[t._v("Data tidak ditemukan.")])])],2)]),"loading"!==t.status_list.status?a("div",{staticClass:"pagination mt-5"},[a("vue-ads-pagination",{attrs:{"total-items":t.total_data,"items-per-page":t.items_per_page,page:t.page,"max-visible-pages":5},scopedSlots:t._u([{key:"buttons",fn:function(e){return t._l(e.buttons,(function(e,s){return a("vue-ads-page-button",t._b({key:s,class:{"bg-yellow-dark":e.active},on:{"page-change":function(a){t.page=e.page},"range-change":function(a){t.start=e.start,t.end=e.end}}},"vue-ads-page-button",e,!1))}))}}],null,!1,2957346040)})],1):t._e()])])])},i=[],n=a("5530"),l=(a("b64b"),a("b0c0"),a("2f62")),r=a("3dbd"),o=a.n(r),u={name:"GeneralUsersIndex",components:{VueAdsPagination:o.a,VueAdsPageButton:r["VueAdsPageButton"]},data:function(){return{users:[{url:"users/form",name:"Devi Krisdiansyah",email:"devi@krisdiansyah.com",uname:"agilbaka",role:"superadmin",created:"10 April 2021 11:23"},{url:"users/form",name:"Devi Krisdiansyah",email:"devi@krisdiansyah.com",uname:"agilbaka",role:"superadmin",created:"10 April 2021 11:23"},{url:"users/form",name:"Devi Krisdiansyah",email:"devi@krisdiansyah.com",uname:"agilbaka",role:"superadmin",created:"10 April 2021 11:23"}],tableThead:[{name:"Nama"},{name:"Username"},{name:"Email"},{name:"Role"},{name:"",action:!0}],total_data:0,items_per_page:10,size:[2,10,25,50,100],page:0,start:0,end:0,role_id:"",keyword:"",timeout:null}},computed:Object(n["a"])(Object(n["a"])({},Object(l["b"])("users",["status_list","list"])),Object(l["b"])("roles",{filter_role_status_list:function(t){return t.status_list},filter_role_list:function(t){return t.list}})),watch:{list:function(t){var e=0;Object.keys(t).length>0&&(e=parseInt(t.total_item)),this.total_data=e},items_per_page:function(){this.getData()},page:function(){this.getData()},role_id:function(){this.getData(!0)},filter_role_status_list:function(t){},filter_role_list:function(t){}},methods:{getData:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(this.items_per_page=10,this.page=0),!0===e&&this.$store.dispatch("roles/getList",[100,1]),this.$store.dispatch("users/getList",[this.items_per_page,this.page+1,this.role_id,this.keyword])},deleteData:function(t,e){var a=this;this.$swal.fire({icon:"warning",title:"Are you sure you want to delete?",text:"Role : "+e,confirmButtonText:"Yes!",confirmButtonColor:"#DD6B55",showCancelButton:!0,allowOutsideClick:!1}).then((function(e){e.isConfirmed&&(Event.$emit("showLoading",!0),a.$store.dispatch("users/delete",t).then((function(t){"success"===t?(a.page=0,a.getData(!0),a.$swal.fire({icon:"success",title:"Data successfully deleted!",timer:3e3})):t.data&&t.data.message?Event.$emit("error",t.data.message):Event.$emit("error")})))}))},pageChange:function(t){this.page=t},sizeChange:function(){this.page=0},searchKeyword:function(){clearTimeout(this.timeout);var t=this;this.timeout=setTimeout((function(){t.page=0,t.$store.commit("users/setList",{}),t.getData()}),650)}},beforeRouteEnter:function(t,e,a){a((function(e){e.items_per_page=10,e.page=0,e.keyword="",e.$store.commit("users/setList",{}),"GeneralUsersIndex"===t.name&&void 0===e.$route.params.id&&e.getData(!0,!0)}))}},d=u,c=a("2877"),m=Object(c["a"])(d,s,i,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0be0de.41bd7cd0.js.map