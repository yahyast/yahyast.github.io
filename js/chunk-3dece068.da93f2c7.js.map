{"version":3,"sources":["webpack:///./src/pages/organization/structure/Form.vue?a8c3","webpack:///src/pages/organization/structure/Form.vue","webpack:///./src/pages/organization/structure/Form.vue?16f9","webpack:///./src/pages/organization/structure/Form.vue","webpack:///./src/pages/organization/structure/Form.vue?660a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","submit","_m","_v","directives","name","rawName","value","expression","attrs","domProps","target","composing","position","choosen_actor","openModalActorOfStructure","nativeOn","addStructure","choosen_structure","length","_l","item","index","_s","figure","photo","getErrorImage","removeStructure","class","ref","searchKeyword","keyword","status_search_actor","status","search_actor","chooseActor","_e","staticRenderFns","component"],"mappings":"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","file":"js/chunk-3dece068.da93f2c7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"form-general\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_vm._m(0),_c('div',{staticClass:\"form-general__body w-full\"},[_c('div',{staticClass:\"grid grid-cols-11 gap-8 mb-16\"},[_vm._m(1),_c('div',{staticClass:\"col-span-7\"},[_c('div',{staticClass:\"field flex-grow\"},[_c('label',{staticClass:\"field-label\"},[_vm._v(\"Nama Jabatan\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.position),expression:\"position\"}],staticClass:\"field-style\",attrs:{\"placeholder\":\"Contoh 'Ketua Umum'\",\"type\":\"text\"},domProps:{\"value\":(_vm.position)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.position=$event.target.value}}})]),_c('div',{staticClass:\"field flex-grow\"},[_c('label',{staticClass:\"field-label\"},[_vm._v(\"Pilih Tokoh\")]),_c('input',{staticClass:\"field-style cursor-pointer\",attrs:{\"placeholder\":\"Cari nama tokoh\",\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":_vm.choosen_actor.name ? _vm.choosen_actor.name : 'Cari tokoh'},on:{\"focus\":function($event){_vm.openModalActorOfStructure = !_vm.openModalActorOfStructure}}})]),_c('div',{staticClass:\"field\"},[_c('b-button',{attrs:{\"text\":\"Tambah Struktur\",\"text_icon_left\":\"plus\",\"kind\":\"tertiary\",\"type\":\"button\"},nativeOn:{\"click\":function($event){return _vm.addStructure()}}})],1)])]),_c('div',{staticClass:\"grid grid-cols-11 gap-8 mb-16\"},[_vm._m(2),_c('div',{staticClass:\"col-span-7\"},[(_vm.choosen_structure.length > 0)?_vm._l((_vm.choosen_structure),function(item,index){return _c('div',{staticClass:\"choosen-actor saved-item\"},[_c('div',{staticClass:\"flex-grow grid grid-cols-2\"},[_c('span',{staticClass:\"flex h-10 items-center pl-4\"},[_vm._v(_vm._s(_vm.choosen_structure[index].position))]),_c('div',{staticClass:\"flex items-center\"},[_c('figure',{staticClass:\"mr-2\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.figure.photo,\"alt\":\"alt\"},on:{\"error\":function($event){return _vm.getErrorImage($event,'profile')}}})]),_c('span',{staticClass:\"block\"},[_vm._v(_vm._s(item.figure.name))])])]),_c('div',{staticClass:\"block-button-delete\"},[_c('b-button',{attrs:{\"icon_only\":\"trash\",\"kind\":\"danger\",\"size\":\"small\",\"type\":\"button\"},nativeOn:{\"click\":function($event){return _vm.removeStructure(index)}}})],1)])}):_c('span',[_vm._v(\"Silakan tambah struktur\")])],2)])]),_c('div',{staticClass:\"form-general__footer pb-6\"},[_c('router-link',{attrs:{\"to\":\"/bdi/organisasi\"}},[_c('b-button',{attrs:{\"text\":\"Batalkan\",\"type\":\"button\"}})],1),_c('b-button',{attrs:{\"text\":\"Simpan\",\"kind\":\"primary\",\"type\":\"submit\"}})],1),_c('div',{staticClass:\"modal\",class:{'modal--show' : _vm.openModalActorOfStructure}},[_c('div',{staticClass:\"modal-overlay\"}),_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-container__header\"},[_c('h2',[_vm._v(\"Tokoh\")]),_c('b-button',{attrs:{\"icon_only\":\"x\",\"type\":\"button\"},nativeOn:{\"click\":function($event){_vm.openModalActorOfStructure = !_vm.openModalActorOfStructure}}})],1),_c('div',{staticClass:\"modal-container__body\"},[_c('div',{staticClass:\"p-4 pb-0\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],ref:\"inputKeyword\",staticClass:\"field-style field-style--small\",attrs:{\"id\":\"input-keyword-actor\",\"placeholder\":\"Cari Nama Tokoh\"},domProps:{\"value\":(_vm.keyword)},on:{\"keyup\":_vm.searchKeyword,\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value}}})]),_c('div',{staticClass:\"boxed boxed-actor relative\"},[(_vm.status_search_actor.status === false && _vm.keyword.length >= 0)?_c('div',{staticClass:\"flex items-center justify-center h-full\"},[_c('div',{staticClass:\"text-center w-80\"},[_c('b-icon',{staticClass:\"text-gray-500 mb-4\",attrs:{\"name\":\"users\",\"size\":\"2x\"}}),_c('p',[_vm._v(\"Silakan ketik minimal 3 karakter untuk mencari tokoh.\")])],1)]):(_vm.keyword.length > 0 && _vm.status_search_actor.status === 'loading')?_c('b-loading',{attrs:{\"text\":'Mencari '+ _vm.keyword}}):(_vm.search_actor.length > 0)?_c('div',{staticClass:\"pt-4\"},_vm._l((_vm.search_actor),function(item,index){return _c('button',{staticClass:\"list-of-actor\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.chooseActor(index)}}},[_c('figure',{staticClass:\"mr-2\"},[_c('img',{staticClass:\"w-10 h-10 rounded\",attrs:{\"src\":item.photo,\"alt\":\"alt\"},on:{\"error\":function($event){return _vm.getErrorImage($event,'profile')}}})]),_c('span',[_vm._v(_vm._s(item.name))])])}),0):(_vm.search_actor.length === 0)?_c('div',{staticClass:\"flex items-center justify-center h-full\"},[_c('div',{staticClass:\"text-center w-80 text-red-500\"},[_c('b-icon',{staticClass:\"mb-4\",attrs:{\"name\":\"info\",\"size\":\"2x\"}}),_c('p',[_vm._v(\"Maaf, tokoh \"+_vm._s(_vm.keyword)+\" tidak ditemukan.\")])],1)]):_vm._e()],1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-general__header w-full\"},[_c('h2',{staticClass:\"text-2xl\"},[_vm._v(\"Struktur Organisasi\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-span-4 pr-12\"},[_c('h2',{staticClass:\"text-xl font-bold mb-2\"},[_vm._v(\"Tambah Struktur\")]),_c('p',{staticClass:\"text-gray-400\"},[_vm._v(\"Silakan buat jabatan baru dan pilih tokoh.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-span-4 pr-12\"},[_c('h2',{staticClass:\"text-xl font-bold mb-2\"},[_vm._v(\"Struktur terpilih\")]),_c('p',{staticClass:\"text-gray-400\"},[_vm._v(\"Anda bisa mengubah dan menghapus struktur yang sudah dipilih.\")])])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n    form.form-general(@submit.prevent=\"submit($event)\")\n        .form-general__header.w-full\n            h2.text-2xl Struktur Organisasi\n        .form-general__body.w-full\n            .grid.grid-cols-11.gap-8.mb-16\n                .col-span-4.pr-12\n                    h2.text-xl.font-bold.mb-2 Tambah Struktur\n                    p.text-gray-400 Silakan buat jabatan baru dan pilih tokoh.\n                .col-span-7\n                    .field.flex-grow\n                        label.field-label Nama Jabatan\n                        input.field-style(placeholder=\"Contoh 'Ketua Umum'\" type=\"text\" v-model=\"position\")\n                    .field.flex-grow\n                        label.field-label Pilih Tokoh\n                        input.field-style.cursor-pointer(placeholder=\"Cari nama tokoh\" type=\"text\" @focus=\"openModalActorOfStructure = !openModalActorOfStructure\" readonly :value=\"choosen_actor.name ? choosen_actor.name : 'Cari tokoh'\")\n                    .field\n                        b-button(text=\"Tambah Struktur\" text_icon_left=\"plus\" kind=\"tertiary\" type=\"button\" @click.native=\"addStructure()\")\n            .grid.grid-cols-11.gap-8.mb-16\n                .col-span-4.pr-12\n                    h2.text-xl.font-bold.mb-2 Struktur terpilih\n                    p.text-gray-400 Anda bisa mengubah dan menghapus struktur yang sudah dipilih.\n                .col-span-7\n\n                    template(v-if=\"choosen_structure.length > 0\")\n                        .choosen-actor.saved-item(v-for=\"(item, index) in choosen_structure\")\n                            //- .flex-grow\n                                //- input.field-style(v-model=\"choosen_structure[index].position\" type=\"text\")\n                                input.field-style(v-model=\"item.position\" type=\"text\" readonly)\n                                .flex-grow.relative.field-actor\n                                    .relative\n                                        img(:src=\"item.figure.photo\" alt=\"alt\" @error=\"getErrorImage($event,'profile')\").w-8.h-8.rounded.absolute\n                                        input.field-style(v-model=\"item.figure.name\" type=\"text\" readonly)\n                                        //- button.block-action(@click=\"openModalActorOfStructure = !openModalActorOfStructure\" type=\"button\")\n                            .flex-grow.grid.grid-cols-2\n                                span.flex.h-10.items-center.pl-4 {{ choosen_structure[index].position }}\n                                .flex.items-center\n                                    figure.mr-2\n                                        img.avatar(:src=\"item.figure.photo\" alt=\"alt\" @error=\"getErrorImage($event,'profile')\")\n                                    span.block {{ item.figure.name }}\n\n                                \n                            .block-button-delete\n                                b-button(icon_only=\"trash\" kind=\"danger\" size=\"small\" type=\"button\" @click.native=\"removeStructure(index)\")\n\n                    span(v-else) Silakan tambah struktur\n\n        .form-general__footer.pb-6\n            router-link(to=\"/bdi/organisasi\")\n                b-button(text=\"Batalkan\" type=\"button\")\n            b-button(text=\"Simpan\" kind=\"primary\" type=\"submit\")\n\n        //- open popup\n        .modal(v-bind:class=\"{'modal--show' : openModalActorOfStructure}\")\n            .modal-overlay\n            .modal-container\n                .modal-container__header\n                    h2 Tokoh\n                    b-button(icon_only=\"x\" @click.native=\"openModalActorOfStructure = !openModalActorOfStructure\" type=\"button\")\n                .modal-container__body\n                    .p-4.pb-0\n                        input.field-style.field-style--small#input-keyword-actor(placeholder=\"Cari Nama Tokoh\" v-model=\"keyword\" ref=\"inputKeyword\" @keyup=\"searchKeyword\")\n                    .boxed.boxed-actor.relative\n\n                        .flex.items-center.justify-center.h-full(v-if=\"status_search_actor.status === false && keyword.length >= 0\")\n                            .text-center.w-80\n                                b-icon.text-gray-500.mb-4(name=\"users\" size=\"2x\")\n                                p Silakan ketik minimal 3 karakter untuk mencari tokoh.\n\n                        b-loading(v-else-if=\"keyword.length > 0 && status_search_actor.status === 'loading'\" :text=\"'Mencari '+ keyword\" )\n\n                        .pt-4(v-else-if=\"search_actor.length > 0\")\n                            button.list-of-actor(v-for=\"(item, index) in search_actor\" type=\"button\" @click=\"chooseActor(index)\")\n                                figure.mr-2\n                                    img(:src=\"item.photo\" alt=\"alt\" @error=\"getErrorImage($event,'profile')\").w-10.h-10.rounded\n                                span {{ item.name}}\n\n                        .flex.items-center.justify-center.h-full(v-else-if=\"search_actor.length === 0\")\n                            .text-center.w-80.text-red-500\n                                b-icon.mb-4(name=\"info\" size=\"2x\")\n                                p Maaf, tokoh {{ keyword }} tidak ditemukan.\n\n        //- open popup\n        //- .modal(v-bind:class=\"{'modal--show' : openModalActorOfStructure}\")\n            .modal-overlay\n            .modal-container\n                .modal-container__header\n                    h2 Tokoh {Nama Struktur}\n                    b-button(icon_only=\"x\" @click.native=\"openModalActorOfStructure = !openModalActorOfStructure\" type=\"button\")\n                .modal-container__body\n                    .p-4.pb-0\n                        input.field-style.field-style--small(placeholder=\"Cari Nama Tokoh\")\n                    .boxed.boxed-actor.relative\n                        template(v-if=\"!GotActor\")\n                            .flex.items-center.justify-center.h-full\n                                .text-center.w-80\n                                    b-icon.text-gray-500.mb-4(name=\"users\" size=\"2x\")\n                                    p Silakan ketik minimal 3 karakter untuk mencari tokoh.\n                        template(v-else)\n                            template(v-if=\"FindingActor\")\n                                b-loading(text=\"Mencari tokoh 'Agil'\")\n                            template(v-else)\n                                template(v-if=\"!FoundActor\")\n                                    .flex.items-center.justify-center.h-full\n                                        .text-center.w-80.text-red-500\n                                            b-icon.mb-4(name=\"info\" size=\"2x\")\n                                            p Maaf, Tokoh {nama} tidak ditemukan\n                                template(v-else)\n                                    .pt-4\n                                        button.list-of-actor(v-for=\"item in actor\" type=\"button\")\n                                            figure.mr-2\n                                                img(:src=\"item.photo\", alt=\"alt\").w-10.h-10.rounded\n                                            span {{ item.name}}\n\n</template>\n<script>\nimport {mapState} from 'vuex';\n\nexport default {\n    name: 'FormStructureOfOrganization',\n    props: ['id'],\n    data() {\n        return {\n            openModalActorOfStructure: false,\n            GotActor: false,\n            FindingActor: false,\n            FoundActor: false,\n            addedStructure: [\n                {\n                    jabatan: 'Ketua Umum',\n                    actor: 'Wawan Setiawan',\n                    photo: 'https://randomuser.me/api/portraits/men/82.jpg',\n                },\n                {\n                    jabatan: 'Wakil Ketua Umum',\n                    actor: 'Hari Panca',\n                    photo: 'https://randomuser.me/api/portraits/men/12.jpg',\n                },\n                {\n                    jabatan: 'Departemen Propaganda & Terbitan',\n                    actor: 'Tessa Kurnawati',\n                    photo: 'https://randomuser.me/api/portraits/women/22.jpg',\n                },\n                {\n                    jabatan: 'Departemen Hubungan Internasional',\n                    actor: 'Wulandari',\n                    photo: 'https://randomuser.me/api/portraits/women/32.jpg',\n                },\n            ],\n            actor: [\n                {\n                    name: 'Wawan Setiawan',\n                    photo: 'https://randomuser.me/api/portraits/men/82.jpg',\n                },\n                {\n                    name: 'Hari Panca',\n                    photo: 'https://randomuser.me/api/portraits/men/12.jpg',\n                },\n                {\n                    name: 'Tessa Kurnawati',\n                    photo: 'https://randomuser.me/api/portraits/women/22.jpg',\n                },\n                {\n                    name: 'Wulandari',\n                    photo: 'https://randomuser.me/api/portraits/women/32.jpg',\n                },\n                {\n                    name: 'Wawan Setiawan',\n                    photo: 'https://randomuser.me/api/portraits/men/82.jpg',\n                },\n                {\n                    name: 'Hari Panca',\n                    photo: 'https://randomuser.me/api/portraits/men/12.jpg',\n                },\n                {\n                    name: 'Tessa Kurnawati',\n                    photo: 'https://randomuser.me/api/portraits/women/22.jpg',\n                },\n                {\n                    name: 'Wulandari',\n                    photo: 'https://randomuser.me/api/portraits/women/32.jpg',\n                },\n                {\n                    name: 'Wawan Setiawan',\n                    photo: 'https://randomuser.me/api/portraits/men/82.jpg',\n                },\n                {\n                    name: 'Hari Panca',\n                    photo: 'https://randomuser.me/api/portraits/men/12.jpg',\n                },\n                {\n                    name: 'Tessa Kurnawati',\n                    photo: 'https://randomuser.me/api/portraits/women/22.jpg',\n                },\n                {\n                    name: 'Wulandari',\n                    photo: 'https://randomuser.me/api/portraits/women/32.jpg',\n                },\n                {\n                    name: 'Wawan Setiawan',\n                    photo: 'https://randomuser.me/api/portraits/men/82.jpg',\n                },\n                {\n                    name: 'Hari Panca',\n                    photo: 'https://randomuser.me/api/portraits/men/12.jpg',\n                },\n                {\n                    name: 'Tessa Kurnawati',\n                    photo: 'https://randomuser.me/api/portraits/women/22.jpg',\n                },\n                {\n                    name: 'Wulandari',\n                    photo: 'https://randomuser.me/api/portraits/women/32.jpg',\n                },\n                {\n                    name: 'Wawan Setiawan',\n                    photo: 'https://randomuser.me/api/portraits/men/82.jpg',\n                },\n                {\n                    name: 'Hari Panca',\n                    photo: 'https://randomuser.me/api/portraits/men/12.jpg',\n                },\n                {\n                    name: 'Tessa Kurnawati',\n                    photo: 'https://randomuser.me/api/portraits/women/22.jpg',\n                },\n                {\n                    name: 'Wulandari',\n                    photo: 'https://randomuser.me/api/portraits/women/32.jpg',\n                },\n                {\n                    name: 'Hari Panca',\n                    photo: 'https://randomuser.me/api/portraits/men/12.jpg',\n                },\n                {\n                    name: 'Tessa Kurnawati',\n                    photo: 'https://randomuser.me/api/portraits/women/22.jpg',\n                },\n                {\n                    name: 'Wulandari',\n                    photo: 'https://randomuser.me/api/portraits/women/32.jpg',\n                },\n                {\n                    name: 'Wawan Setiawan',\n                    photo: 'https://randomuser.me/api/portraits/men/82.jpg',\n                },\n                {\n                    name: 'Hari Panca',\n                    photo: 'https://randomuser.me/api/portraits/men/12.jpg',\n                },\n                {\n                    name: 'Tessa Kurnawati',\n                    photo: 'https://randomuser.me/api/portraits/women/22.jpg',\n                },\n                {\n                    name: 'Wulandari',\n                    photo: 'https://randomuser.me/api/portraits/women/32.jpg',\n                },\n            ],\n\n            keyword: '',\n            timeout: null,\n            // default_profile: '/images/no-image-profile.jpg',\n\n            position: '',\n            choosen_actor: {},\n\n            choosen_structure: [],\n\n            model: {\n                structure: [],\n            },\n        };\n    },\n    computed: {\n        ...mapState('actor', [\n            'status_search_actor',\n            'search_actor',\n        ]),\n        ...mapState('organization', [\n            'detail',\n        ]),\n    },\n    watch: {\n        // id() {},\n        detail(newVal) {\n            if (newVal.structure) {\n                const map_data = newVal.structure.map((item) => {\n                    return {\n                        position: item.position,\n                        figure: item.figure,\n                    };\n                });\n\n                this.choosen_structure = map_data;\n            }\n        },\n        openModalActorOfStructure(newVal) {\n            if (newVal === true) {\n                this.$nextTick(() => this.$refs.inputKeyword.focus());\n            } else {\n                this.keyword = '';\n                this.resetSearchActor();\n            }\n        },\n        choosen_structure(newVal) {\n            const map_data = newVal.map((item) => {\n                return {\n                    position: item.position,\n                    figure_id: item.figure.id,\n                };\n            });\n            this.model.structure = map_data;\n        },\n    },\n    methods: {\n        // getDefaultImage(e) {\n        //     const img = this.default_profile;\n        //     e.target.src = img;\n        // },\n        async getData() {\n            // await this.reset(true);\n            Event.$emit('getDataOrganization');\n        },\n        resetSearchActor() {\n            this.$store.dispatch('actor/cancelSearchActor');\n\n            const status = this.status_search_actor;\n            status.status = false;\n            this.$store.commit('actor/setStatusSearchActor', status);\n            this.$store.commit('actor/setSearchActor', []);\n        },\n        searchKeyword() {\n            clearTimeout(this.timeout);\n            if (this.keyword.length >= 3) {\n                const self = this;\n                this.timeout = setTimeout(function() {\n                    self.$store.dispatch('actor/getSearchActor', [30, 1, self.keyword]);\n                }, 650);\n            } else {\n                this.resetSearchActor();\n            }\n        },\n        chooseActor(index) {\n            const actor = this.search_actor[index];\n\n            this.choosen_actor = actor;\n\n            this.openModalActorOfStructure = false;\n        },\n        addStructure() {\n            if (this.position.length === 0 || Object.keys(this.choosen_actor).length == 0) {\n                Event.$emit('warning', 'Jabatan dan tokoh wajib diisi!');\n                return;\n            }\n\n            const structure = {\n                position: this.position,\n                figure: this.choosen_actor,\n            };\n\n            if (this.choosen_structure.length === 0) {\n                this.choosen_structure.push(structure);\n            } else {\n                const check_data = this.choosen_structure.filter(function(e) {\n                    return e.position === structure.position;\n                });\n\n                if (check_data.length > 0) {\n                    Event.$emit('warning', 'Jabatan telah terdaftar!');\n                    return;\n                } else {\n                    this.choosen_structure.push(structure);\n                }\n            }\n\n            // this.openModalActorOfStructure = '';\n            this.position = '';\n            this.choosen_actor = {};\n        },\n        removeStructure(index) {\n            // console.log(this.choosen_structure[index]);\n            this.$swal.fire({\n                icon: 'warning',\n                title: 'Hapus struktur?',\n                text: this.choosen_structure[index].position +' - '+ this.choosen_structure[index].figure.name,\n                confirmButtonText: 'Ya',\n                confirmButtonColor: '#DD6B55',\n                showCancelButton: true,\n                cancelButtonText: 'Tidak',\n                allowOutsideClick: false,\n            })\n            .then((result) => {\n                if (result.isConfirmed) {\n                    this.choosen_structure.splice(index, 1);\n                }\n            });\n        },\n        submit(e) {\n            e.preventDefault();\n            // this.$v.$touch();\n\n            // if (this.$v.model.$invalid) {\n            //     for (let key in Object.keys(this.$v.model)) {\n            //         const input = Object.keys(this.$v.model)[key];\n            //         if (input.includes(\"$\")) return false;\n            //         if (this.$v.model[input].$error) {\n            //             break;\n            //         }\n            //     }\n            //     // Event.$emit('error', 'Please fill the form correctly.');\n            //     // Event.$emit('showLoading', false);\n            //     window.scrollTo(0,0);\n            //     return;\n            // }\n\n            Event.$emit('showLoading', true);\n\n            const model_data = this.model;\n            model_data.structure = JSON.stringify(model_data.structure);\n            // console.log('submit this.model');\n            // console.log(this.model);\n\n            // update only\n            this.$store.dispatch('organization/update', [this.id, model_data, 'structure'])\n                .then((resp) => {\n                    if (resp.result === 'success') {\n                        this.$swal.fire({\n                            icon: 'success',\n                            title: 'Data berhasil disimpan.',\n                            // text: 'Data berhasil disimpan.',\n                            confirmButtonText: 'Tetap dihalaman ini',\n                            confirmButtonColor: '#5a80e7',\n                            showCancelButton: true,\n                            cancelButtonText: 'Kembali ke BDI',\n                            allowOutsideClick: false,\n                        })\n                            .then((result) => {\n                                if (result.isConfirmed) {\n                                    this.getData();\n                                } else {\n                                    this.$router.push({path: '/bdi/tokoh'});\n                                }\n\n                                Event.$emit('success', 'Data berhasil diperbarui!');\n                            });\n                    } else {\n                        Event.$emit('error');\n                    }\n                });\n        },\n    },\n    beforeRouteEnter(to, from, next) {\n        next((vm) => {\n            console.log(to.name);\n            if (to.name === 'FormOfOrganizationStructure') {\n                vm.getData();\n            }\n        });\n    },\n};\n</script>\n\n<style lang=\"sass\">\n    .choosen-actor\n        @apply border p-2 mb-2 rounded flex items-start\n        .block-button-delete\n            @apply flex items-center justify-center\n            width: 42px\n            height: 42px\n        .field-style\n            border-color: transparent\n            @apply mb-2\n            &:hover\n                @apply border-gray-300\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=1ec29dc5&lang=pug&\"\nimport script from \"./Form.vue?vue&type=script&lang=js&\"\nexport * from \"./Form.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Form.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=style&index=0&lang=sass&\""],"sourceRoot":""}