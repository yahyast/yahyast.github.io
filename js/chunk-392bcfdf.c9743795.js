(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-392bcfdf"],{8021:function(t,a,e){},a413:function(t,a,e){"use strict";e("8021")},d990:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box-photo w-full"},[e("div",{staticClass:"main-menu"},[e("div",{staticClass:"flex items-center gap-x-4"},[e("ul",{staticClass:"menu"},[e("li",[e("routerLink",{attrs:{to:"/bdi/foto"}},[t._v("Semua Foto")])],1),e("li",[e("routerLink",{attrs:{to:"/bdi/foto/album"}},[t._v("Album")])],1)])]),e("routerLink",{attrs:{to:"/bdi/foto/form/create"}},[e("b-button",{attrs:{text:"Foto baru",text_icon_left:"plus",kind:"primary"}})],1)],1),e("div",{staticClass:"block w-full"},[t.list_data.length>0?e("div",{staticClass:"card-bg-theme p-6 rounded shadow w-full"},[e("table",{staticClass:"main-table"},[t._m(0),e("tbody",t._l(t.list_data,(function(a){return e("tr",[e("td",[e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"mr-4"},[e("div",{staticClass:"h-24 w-24 grid grid-cols-2 gap-1 grid-rows-2"},[a.image.length>0?t._l(a.image.slice(0,4),(function(a){return e("img",{staticClass:"w-full h-full object-cover",attrs:{src:a.thumbnail,alt:"alt"},on:{error:t.getErrorImage}})})):t._e()],2)]),e("div",{staticClass:"block-area"},[e("routerLink",{staticClass:"link",attrs:{to:"/bdi/foto/form/"+a.id}},[t._v(t._s(a.title&&a.title.length>0?a.title:"-"))]),e("p",[t._v(t._s(a.description&&a.description.length>0?a.description:"-"))])],1)])]),e("td",[e("span",{staticClass:"block mb-1"},[t._v(t._s(a.updated_by&&a.updated_by.length>0?a.updated_by:"-"))]),e("p",{staticClass:"text-xs"},[t._v(t._s(a.updated_at&&a.updated_at.length>0?a.updated_at:"-"))])]),e("td",[e("div",{staticClass:"flex items-center justify-end"},[e("b-button",{attrs:{icon_only:"trash",kind:"danger"},nativeOn:{click:function(e){return t.deleteData(a.id,a.title)}}})],1)])])})),0)])]):t._e(),t.list_data.length>0||"loading"===t.status_list_album.status?e("div",{staticClass:"text-center mt-10 mb-10"},["loading"===t.status_list_album.status?e("div",{staticClass:"relative"},[e("b-loading",{attrs:{text:"Memuat data",kind:""}})],1):[t.list_album.current_page&&t.list_album.total_page&&t.list_album.current_page<t.list_album.total_page?e("b-button",{attrs:{text:"Lainnya...",kind:"tertiary"},nativeOn:{click:function(a){return t.loadMore()}}}):t._e()]],2):e("div",{staticClass:"text-center mt-10 mb-10"},[e("span",[t._v("Data tidak ditemukan.")])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("Album")]),e("th",[t._v("diperbarui")]),e("th")])])}],n=e("5530"),l=(e("b0c0"),e("2f62")),o=(e("c1df"),{name:"BdiListOfPhotoAlbum",components:{},data:function(){return{list_data:[],limit:20,page:1,keyword:"",timeout:null}},computed:Object(n["a"])({},Object(l["b"])("photo",["status_list_album","list_album"])),watch:{list_album:function(t){if(t.items&&t.items.length>0)for(var a=0;a<t.items.length;a++)this.list_data.push(t.items[a])}},methods:{getData:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.list_data=[],this.page=1),this.$store.dispatch("photo/getListAlbum",[this.limit,this.page,this.keyword])},loadMore:function(){this.page+=1,this.getData()},searchKeyword:function(){clearTimeout(this.timeout);var t=this;this.timeout=setTimeout((function(){t.getData(!0)}),650)},deleteData:function(t,a){var e=this;this.$swal.fire({icon:"warning",title:"Konfirmasi Hapus Album",text:"Apakah anda yakin akan menghapus album "+a+"? Dengan menghapus album, semua foto didalam album akan terhapus.",confirmButtonText:"Ya, hapus album",confirmButtonColor:"#DD6B55",cancelButtonText:"Batalkan",showCancelButton:!0,allowOutsideClick:!1}).then((function(a){a.isConfirmed&&(Event.$emit("showLoading",!0),e.$store.dispatch("photo/deleteAlbum",t).then((function(t){"success"===t?(e.page=0,e.getData(!0),e.$swal.fire({icon:"success",title:"Data berhasil dihapus!",timer:3e3})):t.data&&t.data.message?Event.$emit("error",t.data.message):Event.$emit("error")})))}))}},mounted:function(){},beforeRouteEnter:function(t,a,e){e((function(a){a.$store.commit("photo/setListAlbum",{}),"BDI_ListOfPhotoAlbum"===t.name&&a.getData()}))}}),u=o,r=(e("a413"),e("2877")),c=Object(r["a"])(u,i,s,!1,null,null,null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-392bcfdf.c9743795.js.map