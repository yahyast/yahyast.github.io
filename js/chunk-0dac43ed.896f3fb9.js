(window["t"]=window["t"]||[]).push([["chunk-0dac43ed"],{7052:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.i,e=t.o.s||a;return e("form",{u:"form-general",p:{submit:function(a){return a.preventDefault(),t.submit(a)}}},[t.l(0),e("div",{u:"form-general__body w-full"},[e("div",{u:"grid grid-cols-11 gap-8 mb-16"},[t.l(1),e("div",{u:"col-span-7"},[e("div",{u:"field flex-grow"},[e("label",{u:"field-label"},[t.m("Nama Jabatan")]),e("input",{h:[{name:"model",g:"v-model",value:t.position,v:"position"}],u:"field-style",C:{placeholder:"Contoh 'Ketua Umum'",type:"text"},k:{value:t.position},p:{input:function(a){a.target.j||(t.position=a.target.value)}}})]),e("div",{u:"field flex-grow"},[e("label",{u:"field-label"},[t.m("Pilih Tokoh")]),e("input",{u:"field-style cursor-pointer",C:{placeholder:"Cari nama tokoh",type:"text",S:""},k:{value:t.T.name?t.T.name:"Cari tokoh"},p:{focus:function(a){t.O=!t.O}}})]),e("div",{u:"field"},[e("b-button",{C:{text:"Tambah Struktur",_:"plus",kind:"tertiary",type:"button"},W:{click:function(a){return t.K()}}})],1)])]),e("div",{u:"grid grid-cols-11 gap-8 mb-16"},[t.l(2),e("div",{u:"col-span-7"},[t.A.length>0?t.P(t.A,(function(a,r){return e("div",{u:"choosen-actor saved-item"},[e("div",{u:"flex-grow grid grid-cols-2"},[e("span",{u:"flex h-10 items-center pl-4"},[t.m(t.B(t.A[r].position))]),e("div",{u:"flex items-center"},[e("figure",{u:"mr-2"},[e("img",{u:"avatar",C:{src:a.H.photo,alt:"alt"},p:{error:function(a){return t.D(a,"profile")}}})]),e("span",{u:"block"},[t.m(t.B(a.H.name))])])]),e("div",{u:"block-button-delete"},[e("b-button",{C:{M:"trash",kind:"danger",size:"small",type:"button"},W:{click:function(a){return t.N(r)}}})],1)])})):e("span",[t.m("Silakan tambah struktur")])],2)])]),e("div",{u:"form-general__footer pb-6"},[e("router-link",{C:{F:"/bdi/organisasi"}},[e("b-button",{C:{text:"Batalkan",type:"button"}})],1),e("b-button",{C:{text:"Simpan",kind:"primary",type:"submit"}})],1),e("div",{u:"modal",J:{R:t.O}},[e("div",{u:"modal-overlay"}),e("div",{u:"modal-container"},[e("div",{u:"modal-container__header"},[e("h2",[t.m("Tokoh")]),e("b-button",{C:{M:"x",type:"button"},W:{click:function(a){t.O=!t.O}}})],1),e("div",{u:"modal-container__body"},[e("div",{u:"p-4 pb-0"},[e("input",{h:[{name:"model",g:"v-model",value:t.U,v:"keyword"}],I:"inputKeyword",u:"field-style field-style--small",C:{id:"input-keyword-actor",placeholder:"Cari Nama Tokoh"},k:{value:t.U},p:{G:t.L,input:function(a){a.target.j||(t.U=a.target.value)}}})]),e("div",{u:"boxed boxed-actor relative"},[!1===t.Y.status&&t.U.length>=0?e("div",{u:"flex items-center justify-center h-full"},[e("div",{u:"text-center w-80"},[e("b-icon",{u:"text-gray-500 mb-4",C:{name:"users",size:"2x"}}),e("p",[t.m("Silakan ketik minimal 3 karakter untuk mencari tokoh.")])],1)]):t.U.length>0&&"loading"===t.Y.status?e("b-loading",{C:{text:"Mencari "+t.U}}):t.q.length>0?e("div",{u:"pt-4"},t.P(t.q,(function(a,r){return e("button",{u:"list-of-actor",C:{type:"button"},p:{click:function(a){return t.V(r)}}},[e("figure",{u:"mr-2"},[e("img",{u:"w-10 h-10 rounded",C:{src:a.photo,alt:"alt"},p:{error:function(a){return t.D(a,"profile")}}})]),e("span",[t.m(t.B(a.name))])])})),0):0===t.q.length?e("div",{u:"flex items-center justify-center h-full"},[e("div",{u:"text-center w-80 text-red-500"},[e("b-icon",{u:"mb-4",C:{name:"info",size:"2x"}}),e("p",[t.m("Maaf, tokoh "+t.B(t.U)+" tidak ditemukan.")])],1)]):t.X()],1)])])])])},i=[function(){var t=this,a=t.i,e=t.o.s||a;return e("div",{u:"form-general__header w-full"},[e("h2",{u:"text-2xl"},[t.m("Struktur Organisasi")])])},function(){var t=this,a=t.i,e=t.o.s||a;return e("div",{u:"col-span-4 pr-12"},[e("h2",{u:"text-xl font-bold mb-2"},[t.m("Tambah Struktur")]),e("p",{u:"text-gray-400"},[t.m("Silakan buat jabatan baru dan pilih tokoh.")])])},function(){var t=this,a=t.i,e=t.o.s||a;return e("div",{u:"col-span-4 pr-12"},[e("h2",{u:"text-xl font-bold mb-2"},[t.m("Struktur terpilih")]),e("p",{u:"text-gray-400"},[t.m("Anda bisa mengubah dan menghapus struktur yang sudah dipilih.")])])}],n=e("1da1"),s=e("5530"),o=(e("96cf"),e("d81d"),e("b64b"),e("4de4"),e("b0c0"),e("a434"),e("2f62")),c={name:"FormStructureOfOrganization",Z:["id"],data:function(){return{O:!1,$:!1,tt:!1,at:!1,et:[{rt:"Ketua Umum",it:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{rt:"Wakil Ketua Umum",it:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{rt:"Departemen Propaganda & Terbitan",it:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{rt:"Departemen Hubungan Internasional",it:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"}],it:[{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"}],U:"",timeout:null,position:"",T:{},A:[],nt:{st:[]}}},ot:Object(s["a"])(Object(s["a"])({},Object(o["b"])("actor",["status_search_actor","search_actor"])),Object(o["b"])("organization",["detail"])),watch:{detail:function(t){if(t.st){var a=t.st.map((function(t){return{position:t.position,H:t.H}}));this.A=a}},O:function(t){var a=this;!0===t?this.ct((function(){return a.pt.ut.focus()})):(this.U="",this.lt())},A:function(t){var a=t.map((function(t){return{position:t.position,dt:t.H.id}}));this.nt.st=a}},ht:{getData:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.ft=t.next){case 0:Event.$emit("getDataOrganization");case 1:case"end":return t.stop()}}),t)})))()},lt:function(){this.gt.bt("actor/cancelSearchActor");var t=this.Y;t.status=!1,this.gt.wt("actor/setStatusSearchActor",t),this.gt.wt("actor/setSearchActor",[])},L:function(){if(clearTimeout(this.timeout),this.U.length>=3){var t=this;this.timeout=setTimeout((function(){t.gt.bt("actor/getSearchActor",[30,1,t.U])}),650)}else this.lt()},V:function(t){var a=this.q[t];this.T=a,this.O=!1},K:function(){if(0!==this.position.length&&0!=Object.keys(this.T).length){var t={position:this.position,H:this.T};if(0===this.A.length)this.A.push(t);else{var a=this.A.filter((function(a){return a.position===t.position}));if(a.length>0)return void Event.$emit("warning","Jabatan telah terdaftar!");this.A.push(t)}this.position="",this.T={}}else Event.$emit("warning","Jabatan dan tokoh wajib diisi!")},N:function(t){var a=this;this.Ct.vt({icon:"warning",title:"Hapus struktur?",text:this.A[t].position+" - "+this.A[t].H.name,kt:"Ya",jt:"#DD6B55",xt:!0,yt:"Tidak",St:!1}).then((function(e){e.Tt&&a.A.splice(t,1)}))},submit:function(t){var a=this;t.preventDefault(),Event.$emit("showLoading",!0);var e=this.nt;e.st=JSON.stringify(e.st),this.gt.bt("organization/update",[this.id,e,"structure"]).then((function(t){"success"===t.result?a.Ct.vt({icon:"success",title:"Data berhasil disimpan.",kt:"Tetap dihalaman ini",jt:"#5a80e7",xt:!0,yt:"Kembali ke BDI",St:!1}).then((function(t){t.Tt?a.getData():a.Ot.push({path:"/bdi/tokoh"}),Event.$emit("success","Data berhasil diperbarui!")})):Event.$emit("error")}))}},_t:function(t,a,e){e((function(a){console.log(t.name),"FormOfOrganizationStructure"===t.name&&a.getData()}))}},u=c,p=(e("be81"),e("2877")),l=Object(p["a"])(u,r,i,!1,null,null,null);a["default"]=l.Wt},Kt:function(t,a,e){"use strict";var r=e("23e7"),i=e("23cb"),n=e("a691"),s=e("50c4"),o=e("7b0b"),c=e("65f0"),u=e("8418"),p=e("1dde"),l=p("splice"),m=Math.max,d=Math.min,h=9007199254740991,f="Maximum allowed length exceeded";r({target:"Array",At:!0,Pt:!l},{splice:function(t,a){var e,r,p,l,b,g,w=o(this),v=s(w.length),C=i(t,v),k=arguments.length;if(0===k?e=r=0:1===k?(e=0,r=v-C):(e=k-2,r=d(m(n(a),0),v-C)),v+e-r>h)throw TypeError(f);for(p=c(w,r),l=0;l<r;l++)b=C+l,b in w&&u(p,l,w[b]);if(p.length=r,e<r){for(l=C;l<v-r;l++)b=l+r,g=l+e,b in w?w[g]=w[b]:delete w[g];for(l=v;l>v-r+e;l--)delete w[l-1]}else if(e>r)for(l=v-r;l>C;l--)b=l+r-1,g=l+e-1,b in w?w[g]=w[b]:delete w[g];for(l=0;l<e;l++)w[l+C]=arguments[l+2];return w.length=v-r+e,p}})},Bt:function(t,a,e){"use strict";e("de3c")},Ht:function(t,a,e){}}]);
//# sourceMappingURL=chunk-0dac43ed.896f3fb9.js.map