(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ccbf4452"],{1091:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout-general"},[a("form",{staticClass:"form-general card-bg-theme p-6 rounded shadow",on:{submit:function(t){return e.submit(t)}}},[a("div",{staticClass:"form-general__header"},[a("h2",[e._v(e._s(e.page_title))]),a("router-link",{attrs:{to:"/roles"}},[a("b-button",{attrs:{text:"Kembali",text_icon_left:"chevron-left",type:"button"}})],1)],1),a("div",{staticClass:"form-general__body"}),a("div",{staticClass:"grid grid-cols-11 gap-8 mb-16"},[e._m(0),a("div",{staticClass:"col-span-7"},[a("div",{staticClass:"field"},[a("label",{staticClass:"field-label"},[e._v("Nama Role")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.name,expression:"model.name"}],staticClass:"field-style",attrs:{placeholder:"Nama Role",type:"text"},domProps:{value:e.model.name},on:{input:function(t){t.target.composing||e.$set(e.model,"name",t.target.value)}}}),e.$v.model.name.$error?a("span",{staticClass:"field-message text-red-500"},[e._v("Nama role wajib diisi & maksimal 255 karakter.")]):e._e(),""!==e.error_name?a("span",{staticClass:"field-message text-red-500"},[e._v(e._s(e.error_name))]):e._e()]),a("div",{staticClass:"field"},[a("label",{staticClass:"field-label"},[e._v("Label")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.label,expression:"model.label"}],staticClass:"field-style",attrs:{placeholder:"Tulis label",type:"text"},domProps:{value:e.model.label},on:{input:function(t){t.target.composing||e.$set(e.model,"label",t.target.value)}}}),e.$v.model.label.$error?a("span",{staticClass:"field-message text-red-500"},[e._v("Label wajib diisi & maksimal 255 karakter.")]):e._e(),""!==e.error_label?a("span",{staticClass:"field-message text-red-500"},[e._v(e._s(e.error_label))]):e._e()]),a("div",{staticClass:"field"},[a("label",{staticClass:"field-label"},[e._v("Deskripsi")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.model.description,expression:"model.description"}],staticClass:"field-style",attrs:{placeholder:"Tulis Deskripsi",type:"text",rows:"5"},domProps:{value:e.model.description},on:{input:function(t){t.target.composing||e.$set(e.model,"description",t.target.value)}}}),e.$v.model.description.$error?a("span",{staticClass:"field-message text-red-500"},[e._v("Deskripsi maksimal 255 karakter.")]):e._e(),""!==e.error_description?a("span",{staticClass:"field-message text-red-500"},[e._v(e._s(e.error_description))]):e._e()])])]),a("div",{staticClass:"form-general__footer"},[a("b-button",{attrs:{text:"Reset",type:"button"},nativeOn:{click:function(t){return e.reset()}}}),a("b-button",{attrs:{text:"Simpan",kind:"primary",type:"submit"}})],1)])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-span-4 pr-12"},[a("h2",{staticClass:"text-xl font-bold mb-2"},[e._v("Role")]),a("p",{staticClass:"text-gray-400"},[e._v("Pastikan Informasi role diisi sesuai dengan kebutuhan peran.")])])}],i=a("1da1"),o=a("5530"),n=(a("96cf"),a("b0c0"),a("a4d3"),a("e01a"),a("ac1f"),a("5319"),a("b64b"),a("caad"),a("2532"),a("d81d"),a("99af"),a("2f62")),l=a("b5ae"),d={name:"GeneralRolesForm",data:function(){return{route_name:"",model:{name:"",label:"",description:""},error_name:"",error_label:"",error_description:""}},validations:{model:{name:{required:l["required"],maxLength:Object(l["maxLength"])(255)},label:{required:l["required"],maxLength:Object(l["maxLength"])(255)},description:{maxLength:Object(l["maxLength"])(255)}}},computed:Object(o["a"])(Object(o["a"])({},Object(n["b"])("roles",["detail"])),{},{id:function(){return this.$route.params.id},data:function(){return this.$route.params.data},page_title:function(){var e="Ubah Role";return"GeneralRolesCreate"===this.route_name&&(e="Tambah Role"),e}}),watch:{id:function(){},page_title:function(){},detail:function(e){console.log(e),this.model.name=e.name?e.name:"",this.model.label=e.label?e.label:"",this.model.description=e.description?e.description:""},"model.label":function(e){""!==e&&null!==e&&(this.model.label=e.replace(/\s+/g,"-").toLowerCase())}},methods:{setEmptyModel:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var t in Object.keys(this.model))!0===e&&(this.model[Object.keys(this.model)[t]]="")},setErrors:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!0===e?this.error_name="":!0!==e&&null!==t&&(this.error_name=t.name?t.name:"")},reset:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=e.length>0&&void 0!==e[0]&&e[0],!0===r?(t.setEmptyModel(!0),t.$nextTick((function(){t.$v.$reset()})),t.setErrors(!0),window.scroll({top:0,left:0,behavior:"smooth"})):t.$swal.fire({icon:"warning",title:"Reset form?",confirmButtonText:"Ya!",confirmButtonColor:"#DD6B55",showCancelButton:!0,cancelButtonText:"Tidak",allowOutsideClick:!1}).then((function(e){e.isConfirmed&&t.getData()}));case 2:case"end":return a.stop()}}),a)})))()},getData:function(){this.reset(!0),"GeneralRolesEdit"===this.route_name?(Event.$emit("showLoading",!0),this.$store.dispatch("roles/getDetail",this.id).then((function(e){"success"===e?Event.$emit("showLoading",!1):Event.$emit("error")}))):this.$store.commit("roles/setDetail",{}),console.log(this.detail)},submit:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.preventDefault(),this.$v.$touch(),this.$v.model.$invalid){for(var r in Object.keys(this.$v.model)){var s=Object.keys(this.$v.model)[r];if(s.includes("$"))return!1;if(this.$v.model[s].$error)break}window.scrollTo(0,0)}else{Event.$emit("showLoading",!0);var i=Object.keys(this.model).map((function(e){return t.model[e]}));"GeneralRolesCreate"===this.route_name?this.$store.dispatch("roles/create",i).then((function(e){"success"===e.result?(!1===a?t.$router.push("/roles"):t.$router.push("/roles/"+e.data.data.id+"/edit"),t.$swal.fire({icon:"success",title:"Data successfully created!",timer:3e3})):e.data.message&&e.data.message.errors?(t.setErrors(!1,e.data.message.errors),Event.$emit("showLoading",!1),window.scrollTo(0,0)):Event.$emit("error")})):(i=[this.id].concat(i),this.$store.dispatch("roles/update",i).then((function(e){"success"===e.result?(!1===a&&t.$router.push("/roles"),t.$swal.fire({icon:"success",title:"Data berhasil diperbarui",timer:3e3})):e.data.message&&e.data.message.errors?(t.setErrors(!1,e.data.message.errors),Event.$emit("showLoading",!1),window.scrollTo(0,0)):Event.$emit("error")})))}}},created:function(){},beforeRouteEnter:function(e,t,a){a((function(t){t.route_name=e.name,"GeneralRolesCreate"!==e.name&&"GeneralRolesEdit"!==e.name||t.getData()}))},beforeRouteLeave:function(e,t,a){this.route_name="",this.$store.commit("roles/setDetail",{}),a()},mounted:function(){}},c=d,m=a("2877"),u=Object(m["a"])(c,r,s,!1,null,null,null);t["default"]=u.exports},"99af":function(e,t,a){"use strict";var r=a("23e7"),s=a("d039"),i=a("e8b5"),o=a("861d"),n=a("7b0b"),l=a("50c4"),d=a("8418"),c=a("65f0"),m=a("1dde"),u=a("b622"),f=a("2d00"),h=u("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",b=f>=51||!s((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),g=m("concat"),_=function(e){if(!o(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)},$=!b||!g;r({target:"Array",proto:!0,forced:$},{concat:function(e){var t,a,r,s,i,o=n(this),m=c(o,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?o:arguments[t],_(i)){if(s=l(i.length),u+s>p)throw TypeError(v);for(a=0;a<s;a++,u++)a in i&&d(m,u,i[a])}else{if(u>=p)throw TypeError(v);d(m,u++,i)}return m.length=u,m}})}}]);
//# sourceMappingURL=chunk-ccbf4452.0646b2cb.js.map