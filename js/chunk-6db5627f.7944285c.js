(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6db5627f"],{"99af":function(e,t,a){"use strict";var i=a("23e7"),s=a("d039"),l=a("e8b5"),o=a("861d"),n=a("7b0b"),r=a("50c4"),d=a("8418"),c=a("65f0"),u=a("1dde"),m=a("b622"),f=a("2d00"),p=m("isConcatSpreadable"),_=9007199254740991,v="Maximum allowed index exceeded",g=f>=51||!s((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),h=u("concat"),b=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:l(e)},C=!g||!h;i({target:"Array",proto:!0,forced:C},{concat:function(e){var t,a,i,s,l,o=n(this),u=c(o,0),m=0;for(t=-1,i=arguments.length;t<i;t++)if(l=-1===t?o:arguments[t],b(l)){if(s=r(l.length),m+s>_)throw TypeError(v);for(a=0;a<s;a++,m++)a in l&&d(u,m,l[a])}else{if(m>=_)throw TypeError(v);d(u,m++,l)}return u.length=m,u}})},e6bc:function(e,t,a){},fd72:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form-general",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[e._m(0),a("div",{staticClass:"form-general__body w-full"},[a("div",{staticClass:"grid grid-cols-11 gap-8 mb-16"},[e._m(1),a("div",{staticClass:"col-span-7"},[a("div",{staticClass:"field"},[a("label",{staticClass:"field-label"},[e._v("Nama Organisasi")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.name,expression:"model.name"}],staticClass:"field-style",attrs:{placeholder:"Tulis nama organisasi"},domProps:{value:e.model.name},on:{input:function(t){t.target.composing||e.$set(e.model,"name",t.target.value)}}}),e.$v.model.name.$error?a("span",{staticClass:"field-message text-red-500"},[e._v("This name is required & max length is 255 char.")]):e._e()]),a("div",{staticClass:"field"},[a("div",{staticClass:"box-photo"},[a("div",{staticClass:"box-photo__cover"},[a("figure",{staticClass:"photo-square"},[a("img",{attrs:{src:e.url?e.url:e.getDefaultImage},on:{error:e.getErrorImage}})])]),a("div",{staticClass:"box-photo__info"},[a("label",{staticClass:"field-label"},[e._v("Foto Organisasi")]),a("div",{staticClass:"cta-upload mb-2"},[a("input",{ref:"photoInput",attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:e.onFileChange}}),a("span",[e._v("Ganti Foto")])]),a("p",{staticClass:"text-gray-400"},[e._v("Silakan gunakan foto ukuran 1:1 dengan format png atau jpg. Pastikan gambar dibawah ukuran 2MB.")])])])])])]),a("div",{staticClass:"grid grid-cols-11 gap-8 mb-16"},[e._m(2),a("div",{staticClass:"col-span-7"},[a("div",{staticClass:"field"},[a("wysiwyg",{model:{value:e.model.profile,callback:function(t){e.$set(e.model,"profile",t)},expression:"model.profile"}}),e.$v.model.profile.$error?a("span",{staticClass:"field-message text-red-500"},[e._v("This profile is required.")]):e._e()],1)])]),a("div",{staticClass:"grid grid-cols-11 gap-8 mb-16"},[e._m(3),a("div",{staticClass:"col-span-7"},[a("strong",{staticClass:"mb-4 block"},[e._v("Sosail Media Populer")]),a("div",{staticClass:"block"},[a("div",{staticClass:"flex-grow grid grid-cols-3 gap-4"},[e._m(4),a("div",{staticClass:"field field--icon-right w-full col-span-2"},[a("label",{staticClass:"field-label"},[e._v("Tautan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.default_social_media.facebook,expression:"default_social_media.facebook"}],staticClass:"field-style",attrs:{type:"text",placeholder:"Tulis tautan Facebook disini..."},domProps:{value:e.default_social_media.facebook},on:{input:function(t){t.target.composing||e.$set(e.default_social_media,"facebook",t.target.value)}}})])]),a("div",{staticClass:"flex-grow grid grid-cols-3 gap-4"},[e._m(5),a("div",{staticClass:"field field--icon-right w-full col-span-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.default_social_media.twitter,expression:"default_social_media.twitter"}],staticClass:"field-style",attrs:{type:"text",placeholder:"Tulis tautan Twitter disini..."},domProps:{value:e.default_social_media.twitter},on:{input:function(t){t.target.composing||e.$set(e.default_social_media,"twitter",t.target.value)}}})])]),a("div",{staticClass:"flex-grow grid grid-cols-3 gap-4"},[e._m(6),a("div",{staticClass:"field field--icon-right w-full col-span-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.default_social_media.instagram,expression:"default_social_media.instagram"}],staticClass:"field-style",attrs:{type:"text",placeholder:"Tulis tautan Instagram disini..."},domProps:{value:e.default_social_media.instagram},on:{input:function(t){t.target.composing||e.$set(e.default_social_media,"instagram",t.target.value)}}})])]),a("div",{staticClass:"flex-grow grid grid-cols-3 gap-4"},[e._m(7),a("div",{staticClass:"field field--icon-right w-full col-span-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.default_social_media.youtube,expression:"default_social_media.youtube"}],staticClass:"field-style",attrs:{type:"text",placeholder:"Tulis tautan YouTube disini..."},domProps:{value:e.default_social_media.youtube},on:{input:function(t){t.target.composing||e.$set(e.default_social_media,"youtube",t.target.value)}}})])])]),e.data_social_media.length>0?e._l(e.data_social_media,(function(t,i){return a("div",{staticClass:"flex items-center gap-4"},[a("div",{staticClass:"flex-grow grid grid-cols-3 gap-4"},[a("div",{staticClass:"field field--icon-right w-full"},[a("input",{staticClass:"field-style",attrs:{type:"text",disabled:""},domProps:{value:e.titleCase(t.media_type)}})]),a("div",{staticClass:"flex items-center gap-4 flex-grow col-span-2"},[a("div",{staticClass:"field field--icon-right w-full flex-grow"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data_social_media[i].username,expression:"data_social_media[index].username"}],staticClass:"field-style",attrs:{type:"text",placeholder:"Tulis tautan sosial media disini"},domProps:{value:e.data_social_media[i].username},on:{change:function(t){return e.updateAllSocmed()},input:function(t){t.target.composing||e.$set(e.data_social_media[i],"username",t.target.value)}}})]),a("div",{staticClass:"field"},[a("b-button",{attrs:{icon_only:"trash",kind:"danger",type:"button"},nativeOn:{click:function(t){return e.removeSocmed(i)}}})],1)])])])})):e._e(),a("div",{staticClass:"flex items-center gap-4"},[a("div",{staticClass:"flex-grow grid grid-cols-3 gap-4"},[a("div",{staticClass:"field field--icon-right w-full"},[a("label",{staticClass:"field-label"},[e._v("Sosial Media Lainnya")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.socmed_type,expression:"socmed_type"}],staticClass:"field-style",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.socmed_type=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Pilih Sosial Media")]),a("option",{staticClass:"cursor-not-allowed",attrs:{disabled:""}},[e._v("Facebook")]),a("option",{staticClass:"cursor-not-allowed",attrs:{disabled:""}},[e._v("Twitter")]),a("option",{staticClass:"cursor-not-allowed",attrs:{disabled:""}},[e._v("Instagram")]),a("option",{staticClass:"cursor-not-allowed",attrs:{disabled:""}},[e._v("YouTube")]),a("option",{attrs:{value:"tiktok"}},[e._v("TikTok")]),a("option",{attrs:{value:"vine"}},[e._v("Vine")]),a("option",{attrs:{value:"bigo"}},[e._v("Bigo")]),a("option",{attrs:{value:"vimeo"}},[e._v("Vimeo")])]),a("span",{staticClass:"icon-field"},[a("b-icon",{attrs:{name:"chevron-down"}})],1)]),a("div",{staticClass:"field field--icon-right w-full col-span-2"},[a("label",{staticClass:"field-label"},[e._v("Tautan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.socmed_username,expression:"socmed_username"}],staticClass:"field-style",attrs:{type:"text",placeholder:"Tulis tautan sosial media disini"},domProps:{value:e.socmed_username},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addSocmed()},input:function(t){t.target.composing||(e.socmed_username=t.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"field-label opacity-0"},[e._v("Action")]),a("b-button",{attrs:{icon_only:"plus",kind:"tertiary",type:"button"},nativeOn:{click:function(t){return e.addSocmed()}}})],1)])],2)])]),a("div",{staticClass:"form-general__footer"},[a("router-link",{attrs:{to:"/bdi/organisasi"}},[a("b-button",{attrs:{text:"Batalkan",type:"button"}})],1),a("b-button",{attrs:{text:"Simpan",kind:"primary",type:"submit"}})],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-general__header w-full"},[a("h2",{staticClass:"text-2xl"},[e._v("Profil")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-span-4 pr-12"},[a("h2",{staticClass:"text-xl font-bold mb-2"},[e._v("Profil Organisasi")]),a("p",{staticClass:"text-gray-400"},[e._v("Silakan pilih tokoh untuk dimasukan dalam organisasi ini.")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-span-4 pr-12"},[a("h2",{staticClass:"text-xl font-bold mb-2"},[e._v("Deskripsi Organisasi")]),a("p",{staticClass:"text-gray-400"},[e._v("Pastikan deskripsi diisi sesuai dengan informasi yang terbaru.")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-span-4 pr-12"},[a("h2",{staticClass:"text-xl font-bold mb-2"},[e._v("Sosial Media")]),a("p",{staticClass:"text-gray-400"},[e._v("Simpan Sosial media organisasi, utamakan simpan sosial media yang populer seperti Facebook, Twitter, Instagram dan YouTube.")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field field--icon-right w-full"},[a("label",{staticClass:"field-label"},[e._v("Sosial Media")]),a("input",{staticClass:"field-style",attrs:{type:"text",value:"Facebook",disabled:""}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field field--icon-right w-full"},[a("input",{staticClass:"field-style",attrs:{type:"text",value:"Twitter",disabled:""}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field field--icon-right w-full"},[a("input",{staticClass:"field-style",attrs:{type:"text",value:"Instagram",disabled:""}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field field--icon-right w-full"},[a("input",{staticClass:"field-style",attrs:{type:"text",value:"Youtube",disabled:""}})])}],l=a("1da1"),o=a("5530"),n=(a("96cf"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("ac1f"),a("1276"),a("fb6a"),a("a15b"),a("4de4"),a("a434"),a("99af"),a("b64b"),a("caad"),a("2532"),a("2f62")),r=a("b5ae"),d={data:function(){return{myHTML:"",url:null,photo:null,default_social_media:{facebook:"",twitter:"",instagram:"",youtube:""},data_social_media:[],socmed_type:"",socmed_username:"",model:{name:"",profile:"",social_media:[]}}},validations:{model:{name:{required:r["required"],maxLength:Object(r["maxLength"])(255)},profile:{required:r["required"]},social_media:{}}},props:["id"],computed:Object(o["a"])(Object(o["a"])({},Object(n["b"])("organization",["detail"])),{},{route_query:function(){return this.$route.query}}),watch:{id:function(){},detail:function(e){var t=this.route_query.name;for(var a in void 0!==t&&"create"==this.id?this.model.name=t:this.model.name=e.name?e.name:"",this.model.profile=e.profile?e.profile:"",this.url=e.photo?e.photo:"",this.default_social_media)this.default_social_media[a]="";if(this.data_social_media=[],e.social_media&&e.social_media.length>0){for(var i=0;i<e.social_media.length;i++)e.social_media[i],i<=3?this.default_social_media[e.social_media[i].media_type]=e.social_media[i].username:this.data_social_media.push(e.social_media[i]);this.model.social_media=e.social_media}},"default_social_media.facebook":function(e){this.updateAllSocmed()},"default_social_media.twitter":function(e){this.updateAllSocmed()},"default_social_media.instagram":function(e){this.updateAllSocmed()},"default_social_media.youtube":function(e){this.updateAllSocmed()},data_social_media:function(e){this.updateAllSocmed()}},methods:{onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;if(t.length){var a=t[0],i=Math.round(a.size/1024);i>2048?Event.$emit("error","Ukuran file lebih dari 2 Mb!"):(this.url=URL.createObjectURL(a),this.photo=a)}},titleCase:function(e){for(var t=e.toLowerCase().split(" "),a=0;a<t.length;a++)t[a]=t[a][0].toUpperCase()+t[a].slice(1);return t.join(" ")},addSocmed:function(){if(""!==this.socmed_type&&""!==this.socmed_username){var e={media_type:this.socmed_type,username:this.socmed_username};if(0===this.data_social_media.length)this.data_social_media.push(e);else{var t=this.data_social_media.filter((function(t){return t.media_type===e.media_type}));if(t.length>0)return void Event.$emit("warning","Sosial media "+e.media_type+" telah terdaftar!");this.data_social_media.push(e)}this.socmed_type="",this.socmed_username="",this.updateAllSocmed()}else Event.$emit("error","Jenis sosial media dan tautan wajib diisi!")},removeSocmed:function(e){var t=this;this.$swal.fire({icon:"warning",title:"Hapus sosial media "+this.data_social_media[e].media_type+"?",confirmButtonText:"Ya",confirmButtonColor:"#DD6B55",showCancelButton:!0,cancelButtonText:"Tidak",allowOutsideClick:!1}).then((function(a){a.isConfirmed&&(t.data_social_media.splice(e,1),t.updateAllSocmed())}))},updateAllSocmed:function(){var e=[];for(var t in this.default_social_media)e.push({media_type:t,username:this.default_social_media[t]});this.model.social_media=[].concat(e,this.data_social_media)},setEmptyModel:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var t in Object.keys(this.model))!0===e&&(this.model[Object.keys(this.model)[t]]="")},reset:function(){var e=this;this.setEmptyModel(!0),this.$nextTick((function(){e.$v.$reset()}))},submit:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.preventDefault(),t.$v.$touch(),!t.$v.model.$invalid){a.next=15;break}a.t0=regeneratorRuntime.keys(Object.keys(t.$v.model));case 4:if((a.t1=a.t0()).done){a.next=13;break}if(i=a.t1.value,s=Object.keys(t.$v.model)[i],!s.includes("$")){a.next=9;break}return a.abrupt("return",!1);case 9:if(!t.$v.model[s].$error){a.next=11;break}return a.abrupt("break",13);case 11:a.next=4;break;case 13:return window.scrollTo(0,0),a.abrupt("return");case 15:Event.$emit("showLoading",!0),l=t.model,l.photo=t.photo,l.social_media=JSON.stringify(l.social_media),"create"===t.id?t.$store.dispatch("organization/create",l).then((function(e){"success"===e.result?t.$swal.fire({icon:"success",title:"Data berhasil disimpan.",confirmButtonText:"Tetap dihalaman ini",confirmButtonColor:"#5a80e7",showCancelButton:!0,cancelButtonText:"Kembali ke BDI",allowOutsideClick:!1}).then((function(a){a.isConfirmed?(t.$router.push({path:"/organisasi/"+e.data.id+"/form/profile"}),t.getData()):t.$router.push({path:"/bdi/organisasi"}),Event.$emit("success","Data berhasil dibuat!")})):Event.$emit("error")})):t.$store.dispatch("organization/update",[t.id,l,"profile"]).then((function(e){"success"===e.result?t.$swal.fire({icon:"success",title:"Data berhasil disimpan.",confirmButtonText:"Tetap dihalaman ini",confirmButtonColor:"#5a80e7",showCancelButton:!0,cancelButtonText:"Kembali ke BDI",allowOutsideClick:!1}).then((function(e){e.isConfirmed?t.getData():t.$router.push({path:"/bdi/organisasi"}),Event.$emit("success","Data berhasil diperbarui!")})):Event.$emit("error")}));case 20:case"end":return a.stop()}}),a)})))()},getData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.reset(!0);case 2:Event.$emit("getDataOrganization");case 3:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this.route_query.name;void 0!==e&&"create"==this.id&&(this.model.name=e)},beforeRouteEnter:function(e,t,a){a((function(t){console.log(e.name),"FormOfOrganizationProfile"===e.name&&t.getData()}))}},c=d,u=(a("fedb"),a("2877")),m=Object(u["a"])(c,i,s,!1,null,null,null);t["default"]=m.exports},fedb:function(e,t,a){"use strict";a("e6bc")}}]);
//# sourceMappingURL=chunk-6db5627f.7944285c.js.map