(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de670384"],{"55fe":function(t,a,e){},"650c":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("form",{staticClass:"form-general",on:{submit:function(a){return a.preventDefault(),t.submit(a)}}},[t._m(0),e("div",{staticClass:"form-general__body w-full"},[e("div",{staticClass:"grid grid-cols-11 gap-8 mb-16"},[t._m(1),e("div",{staticClass:"col-span-7"},["loading"===t.status_related_organizations.status?e("div",{staticClass:"relative text-center m-5 p-5 w-full"},[e("b-loading",{attrs:{text:"Memuat data"}})],1):t._e(),t.relatedFigureData.length>0?[e("h3",{staticClass:"mb-4"},[t._v(t._s(t.relatedFigureData.length)+" Tokoh Terpilih")]),e("div",{staticClass:"choosen-people grid grid-cols-2 gap-4"},t._l(t.relatedFigureData,(function(a,r){return e("div",{staticClass:"choosen-people__list"},[e("div",{staticClass:"flex items-center"},[e("figure",{staticClass:"mr-2"},[e("img",{staticClass:"w-10 h-10 object-cover rounded",attrs:{src:t.getDefaultImage("profile")},on:{error:function(a){return t.getErrorImage(a,"profile")}}})]),e("span",[t._v(t._s(a.label))])])])})),0)]:0==t.relatedFigureData.length&&"loading"!==t.status_related_organizations.status?e("div",{staticClass:"block mt-8"},[e("strong",{staticClass:"font-bold"},[t._v("Belum ada tokoh terkait")])]):t._e()],2)])]),e("div",{staticClass:"form-general__footer"},[e("router-link",{attrs:{to:"/bdi/organisasi"}},[e("b-button",{attrs:{text:"Batalkan",type:"button"}})],1),e("b-button",{attrs:{text:"Simpan",kind:"primary",type:"submit"}})],1),e("div",{staticClass:"modal",class:{"modal--show":t.openModalActorOfPeopleRelated}},[e("div",{staticClass:"modal-overlay"}),e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-container__header"},[e("h2",[t._v("Tokoh")]),e("b-button",{attrs:{icon_only:"x",type:"button"},nativeOn:{click:function(a){t.openModalActorOfPeopleRelated=!t.openModalActorOfPeopleRelated}}})],1),e("div",{staticClass:"modal-container__body"},[e("div",{staticClass:"p-4 pb-0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],ref:"inputKeyword",staticClass:"field-style field-style--small",attrs:{id:"input-keyword-actor",placeholder:"Cari Nama Tokoh"},domProps:{value:t.keyword},on:{keyup:t.searchKeyword,input:function(a){a.target.composing||(t.keyword=a.target.value)}}})]),e("div",{staticClass:"boxed boxed-actor relative"},[!1===t.status_search_actor.status&&t.keyword.length>=0?e("div",{staticClass:"flex items-center justify-center h-full"},[e("div",{staticClass:"text-center w-80"},[e("b-icon",{staticClass:"text-gray-500 mb-4",attrs:{name:"users",size:"2x"}}),e("p",[t._v("Silakan ketik minimal 3 karakter untuk mencari tokoh.")])],1)]):t.keyword.length>0&&"loading"===t.status_search_actor.status?e("b-loading",{attrs:{text:"Mencari "+t.keyword}}):t.search_actor.length>0?e("div",{staticClass:"pt-4"},t._l(t.search_actor,(function(a,r){return e("button",{staticClass:"list-of-actor",attrs:{type:"button"},on:{click:function(a){return t.chooseActor(r)}}},[e("figure",{staticClass:"mr-2"},[e("img",{staticClass:"w-10 h-10 rounded",attrs:{src:a.photo,alt:"alt"},on:{error:function(a){return t.getDefaultImage(a,"profile")}}})]),e("span",[t._v(t._s(a.name))])])})),0):0===t.search_actor.length?e("div",{staticClass:"flex items-center justify-center h-full"},[e("div",{staticClass:"text-center w-80 text-red-500"},[e("b-icon",{staticClass:"mb-4",attrs:{name:"info",size:"2x"}}),e("p",[t._v("Maaf, tokoh "+t._s(t.keyword)+" tidak ditemukan.")])],1)]):t._e()],1)])])])])},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-general__header w-full"},[e("h2",{staticClass:"text-2xl"},[t._v("Tokoh Terkait")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-span-4 pr-12"},[e("h2",{staticClass:"text-xl font-bold mb-2"},[t._v("Tokoh Terpilih")]),e("p",{staticClass:"text-gray-400"},[t._v("Bagian ini adalah daftar tokoh yang sudah anda pilih untuk dimasukan kedalam organisai.")])])}],s=e("1da1"),i=e("5530"),n=(e("96cf"),e("b0c0"),e("d81d"),e("4de4"),e("a434"),e("2f62")),p={name:"FormPeopleReltedOfOrganization",props:["id"],data:function(){return{openModalActorOfPeopleRelated:!1,GotActor:!1,FindingActor:!1,FoundActor:!1,actorSelected:[{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"}],actor:[{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"},{name:"Wawan Setiawan",photo:"https://randomuser.me/api/portraits/men/82.jpg"},{name:"Hari Panca",photo:"https://randomuser.me/api/portraits/men/12.jpg"},{name:"Tessa Kurnawati",photo:"https://randomuser.me/api/portraits/women/22.jpg"},{name:"Wulandari",photo:"https://randomuser.me/api/portraits/women/32.jpg"}],keyword:"",timeout:null,choosen_related_figure:[],model:{related_figure:[]},relatedFigureData:[]}},computed:Object(i["a"])(Object(i["a"])({},Object(n["b"])("actor",["status_search_actor","search_actor"])),Object(n["b"])("organization",["status_detail","detail","status_related_organizations","related_organizations"])),watch:{detail:function(t){this.relatedFigureData=[],this.$store.dispatch("organization/getRelatedOrganizations",[t.name?t.name:null]),this.choosen_related_figure=t.figures&&t.figures.figure?t.figures.figure:[]},openModalActorOfPeopleRelated:function(t){var a=this;!0===t?this.$nextTick((function(){return a.$refs.inputKeyword.focus()})):(this.keyword="",this.resetSearchActor())},choosen_related_figure:function(t){var a=t.map((function(t){return t.id}));this.model.related_figure=a},related_organizations:function(t){if(t&&t.length>0){var a=t.filter((function(t){return"PER"==t.class}));this.relatedFigureData=a}}},methods:{getData:function(){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Event.$emit("getDataOrganization");case 1:case"end":return t.stop()}}),t)})))()},resetSearchActor:function(){this.$store.dispatch("actor/cancelSearchActor");var t=this.status_search_actor;t.status=!1,this.$store.commit("actor/setStatusSearchActor",t),this.$store.commit("actor/setSearchActor",[])},searchKeyword:function(){if(clearTimeout(this.timeout),this.keyword.length>=3){var t=this;this.timeout=setTimeout((function(){t.$store.dispatch("actor/getSearchActor",[30,1,t.keyword])}),650)}else this.resetSearchActor()},chooseActor:function(t){var a=this.search_actor[t];if(0===this.choosen_related_figure.length)this.choosen_related_figure.push(a);else{var e=this.choosen_related_figure.filter((function(t){return t.id===a.id}));e.length>0?Event.$emit("warning","Tokoh telah terdaftar!"):this.choosen_related_figure.push(a)}this.openModalActorOfPeopleRelated=!1},removeActor:function(t){var a=this;this.$swal.fire({icon:"warning",title:"Hapus tokoh "+this.choosen_related_figure[t].name+"?",confirmButtonText:"Ya, Hapus",confirmButtonColor:"#DD6B55",showCancelButton:!0,cancelButtonText:"Batalkan",allowOutsideClick:!1}).then((function(e){e.isConfirmed&&a.choosen_related_figure.splice(t,1)}))},submit:function(t){var a=this;t.preventDefault(),Event.$emit("showLoading",!0);var e=this.model;e.related_figure=JSON.stringify(e.related_figure),this.$store.dispatch("organization/update",[this.id,e,"related_figure"]).then((function(t){"success"===t.result?a.$swal.fire({icon:"success",title:"Data berhasil disimpan.",confirmButtonText:"Tetap dihalaman ini",confirmButtonColor:"#5a80e7",showCancelButton:!0,cancelButtonText:"Kembali ke BDI",allowOutsideClick:!1}).then((function(t){t.isConfirmed?a.getData():a.$router.push({path:"/bdi/tokoh"}),Event.$emit("success","Data berhasil diperbarui!")})):Event.$emit("error")}))}},beforeRouteEnter:function(t,a,e){e((function(a){console.log(t.name),"FormOfOrganizationOrganizer"===t.name&&a.getData()}))}},c=p,l=(e("89a8"),e("2877")),m=Object(l["a"])(c,r,o,!1,null,null,null);a["default"]=m.exports},"89a8":function(t,a,e){"use strict";e("55fe")}}]);
//# sourceMappingURL=chunk-de670384.cc75dd1f.js.map