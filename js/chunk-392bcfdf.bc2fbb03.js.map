{"version":3,"sources":["webpack:///./src/pages/bdi/photo/Album.vue?e095","webpack:///./src/pages/bdi/photo/Album.vue?ad1a","webpack:///src/pages/bdi/photo/Album.vue","webpack:///./src/pages/bdi/photo/Album.vue?b822","webpack:///./src/pages/bdi/photo/Album.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","list_data","length","_m","_l","item","image","slice","img","thumbnail","getErrorImage","_e","id","_s","title","description","updated_by","updated_at","$event","deleteData","status_list_album","status","list_album","current_page","total_page","loadMore","staticRenderFns","component"],"mappings":"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","file":"js/chunk-392bcfdf.bc2fbb03.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=style&index=0&lang=sass&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-photo w-full\"},[_c('div',{staticClass:\"main-menu\"},[_c('div',{staticClass:\"flex items-center gap-x-4\"},[_c('ul',{staticClass:\"menu\"},[_c('li',[_c('routerLink',{attrs:{\"to\":\"/bdi/foto\"}},[_vm._v(\"Semua Foto\")])],1),_c('li',[_c('routerLink',{attrs:{\"to\":\"/bdi/foto/album\"}},[_vm._v(\"Album\")])],1)])]),_c('routerLink',{attrs:{\"to\":\"/bdi/foto/form/create\"}},[_c('b-button',{attrs:{\"text\":\"Foto baru\",\"text_icon_left\":\"plus\",\"kind\":\"primary\"}})],1)],1),_c('div',{staticClass:\"block w-full\"},[(_vm.list_data.length > 0)?_c('div',{staticClass:\"card-bg-theme p-6 rounded shadow w-full\"},[_c('table',{staticClass:\"main-table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.list_data),function(item){return _c('tr',[_c('td',[_c('div',{staticClass:\"flex items-center\"},[_c('div',{staticClass:\"mr-4\"},[_c('div',{staticClass:\"h-24 w-24 grid grid-cols-2 gap-1 grid-rows-2\"},[(item.image.length > 0)?_vm._l((item.image.slice(0,4)),function(img){return _c('img',{staticClass:\"w-full h-full object-cover\",attrs:{\"src\":img.thumbnail,\"alt\":\"alt\"},on:{\"error\":_vm.getErrorImage}})}):_vm._e()],2)]),_c('div',{staticClass:\"block-area\"},[_c('routerLink',{staticClass:\"link\",attrs:{\"to\":'/bdi/foto/form/'+ item.id}},[_vm._v(_vm._s(item.title && item.title.length > 0 ? item.title : '-'))]),_c('p',[_vm._v(_vm._s(item.description && item.description.length > 0 ? item.description : '-'))])],1)])]),_c('td',[_c('span',{staticClass:\"block mb-1\"},[_vm._v(_vm._s(item.updated_by && item.updated_by.length > 0 ? item.updated_by : '-'))]),_c('p',{staticClass:\"text-xs\"},[_vm._v(_vm._s(item.updated_at && item.updated_at.length > 0 ? item.updated_at : '-'))])]),_c('td',[_c('div',{staticClass:\"flex items-center justify-end\"},[_c('b-button',{attrs:{\"icon_only\":\"trash\",\"kind\":\"danger\"},nativeOn:{\"click\":function($event){return _vm.deleteData(item.id, item.title)}}})],1)])])}),0)])]):_vm._e(),(_vm.list_data.length > 0 || _vm.status_list_album.status === 'loading')?_c('div',{staticClass:\"text-center mt-10 mb-10\"},[(_vm.status_list_album.status === 'loading')?_c('div',{staticClass:\"relative\"},[_c('b-loading',{attrs:{\"text\":\"Memuat data\",\"kind\":\"\"}})],1):[(_vm.list_album.current_page && _vm.list_album.total_page && _vm.list_album.current_page < _vm.list_album.total_page)?_c('b-button',{attrs:{\"text\":\"Lainnya...\",\"kind\":\"tertiary\"},nativeOn:{\"click\":function($event){return _vm.loadMore()}}}):_vm._e()]],2):_c('div',{staticClass:\"text-center mt-10 mb-10\"},[_c('span',[_vm._v(\"Data tidak ditemukan.\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Album\")]),_c('th',[_vm._v(\"diperbarui\")]),_c('th')])])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n    .box-photo.w-full\n        //- form filter\n        .main-menu\n            .flex.items-center.gap-x-4\n                ul.menu\n                    li: routerLink(to=\"/bdi/foto\") Semua Foto\n                    li: routerLink(to=\"/bdi/foto/album\") Album\n            routerLink(to=\"/bdi/foto/form/create\")\n                b-button(text=\"Foto baru\" text_icon_left=\"plus\" kind=\"primary\")\n\n        .block.w-full\n            .card-bg-theme.p-6.rounded.shadow.w-full(v-if=\"list_data.length > 0\")\n                table.main-table\n                    thead\n                        tr\n                            th Album\n                            //- th Foto\n                            th diperbarui\n                            th\n                    tbody\n                        tr(\n                            v-for=\"item in list_data\"\n                        )\n                            td\n                                .flex.items-center\n                                    .mr-4\n                                        .h-24.w-24.grid.grid-cols-2.gap-1.grid-rows-2\n                                            template(v-if=\"item.image.length > 0\")\n                                                img.w-full.h-full.object-cover(v-for=\"img in item.image.slice(0,4)\" :src=\"img.thumbnail\" alt=\"alt\" @error=\"getErrorImage\")\n                                    .block-area\n                                        routerLink.link(:to=\"'/bdi/foto/form/'+ item.id\") {{ item.title && item.title.length > 0 ? item.title : '-' }}\n                                        p {{ item.description && item.description.length > 0 ? item.description : '-' }}\n                            //- td {{ item.photo }}\n                            td\n                                span.block.mb-1 {{ item.updated_by && item.updated_by.length > 0 ? item.updated_by : '-' }}\n                                //- p.text-xs {{ item.updated_at && item.updated_at.length > 0 ? datetimeFormat(item.updated_at) : '-' }}\n                                p.text-xs {{ item.updated_at && item.updated_at.length > 0 ? item.updated_at : '-' }}\n                            td\n                                .flex.items-center.justify-end\n                                    //- router-link.mr-3(:to=\"'/bdi/foto/form/'+ item.id\")\n                                        b-button(icon_only=\"edit\" kind=\"tertiary\")\n                                    b-button(icon_only=\"trash\" kind=\"danger\" @click.native=\"deleteData(item.id, item.title)\")\n\n\n            .text-center.mt-10.mb-10(v-if=\"list_data.length > 0 || status_list_album.status === 'loading'\")\n                .relative(v-if=\"status_list_album.status === 'loading'\")\n                    b-loading(text=\"Memuat data\" kind=\"\")\n\n                template(v-else)\n                    b-button(v-if=\"list_album.current_page && list_album.total_page && list_album.current_page < list_album.total_page\" text=\"Lainnya...\" kind=\"tertiary\" @click.native=\"loadMore()\")\n                    //- span(v-else) Tidak ada data lain.\n\n            .text-center.mt-10.mb-10(v-else)\n                span Data tidak ditemukan.\n\n            //- .bg-white.p-6.rounded.shadow.w-full\n                table.main-table\n                    thead\n                        tr\n                            th Album\n                            //- th Foto\n                            th diperbarui\n                            th\n                    tbody\n                        tr(\n                            v-for=\"item in dataAlbum\"\n                        )\n                            td\n                                .flex.items-center\n                                    .mr-4\n                                        .h-24.w-24.grid.grid-cols-2.gap-1.grid-rows-2\n                                            img.w-full.h-full.object-cover(src=\"https://images.pexels.com/photos/9849842/pexels-photo-9849842.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\", alt=\"alt\")\n                                            //- img.w-full.h-full.object-cover(src=\"https://images.pexels.com/photos/9849842/pexels-photo-9849842.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\", alt=\"alt\")\n                                            //- img.w-full.h-full.object-cover(src=\"https://images.pexels.com/photos/9849842/pexels-photo-9849842.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\", alt=\"alt\")\n                                            //- img.w-full.h-full.object-cover(src=\"https://images.pexels.com/photos/9849842/pexels-photo-9849842.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\", alt=\"alt\")\n                                    .block-area\n                                        routerLink.link(to=\"/bdi/foto/form\") {{ item.name }}\n                                        p {{ item.desc }}\n                            //- td {{ item.photo }}\n                            td\n                                span.block.mb-1 {{ item.updatedBy }}\n                                p.text-xs {{ item.updatedTime }}\n                            td\n                                .flex.items-center.justify-end\n                                    b-button(icon_only=\"trash\" kind=\"danger\")\n\n</template>\n\n<script>\nimport {mapState} from 'vuex';\nimport moment from 'moment';\n\nexport default {\n    name: 'BdiListOfPhotoAlbum',\n    components: {\n\n    },\n    data() {\n        return {\n            // dataAlbum: [\n            //     {\n            //         name: 'Album',\n            //         // desc: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500\",\n            //         desc: \"Lorem Ipsum is \",\n            //         photo: 40,\n            //         updatedBy: 'Admin',\n            //         updatedTime: '10 Agustus 2921 18:00 WIB',\n            //     },\n            //     {\n            //         name: 'Album',\n            //         desc: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500\",\n            //         photo: 40,\n            //         updatedBy: 'Admin',\n            //         updatedTime: '10 Agustus 2921 18:00 WIB',\n            //     },\n            // ],\n\n\n            list_data: [],\n            // limit: 10,\n            limit: 20,\n            page: 1,\n            // orderShort: '',\n            keyword: '',\n            timeout: null,\n        };\n    },\n    computed: {\n        ...mapState('photo', [\n            'status_list_album',\n            'list_album',\n        ]),\n    },\n    watch: {\n        list_album(newVal) {\n            // console.log(newVal);\n            if (newVal.items && newVal.items.length > 0) {\n                for (let i = 0; i < newVal.items.length; i++) {\n                    this.list_data.push(newVal.items[i]);\n                }\n            }\n        },\n    },\n    methods: {\n        getData(reset=false) {\n            if (reset) {\n                this.list_data = [];\n                this.page = 1;\n            }\n            this.$store.dispatch('photo/getListAlbum', [this.limit, this.page, this.keyword]);\n        },\n        loadMore() {\n            this.page += 1;\n            this.getData();\n        },\n        searchKeyword() {\n            clearTimeout(this.timeout);\n            const self = this;\n            this.timeout = setTimeout(function() {\n                self.getData(true);\n            }, 650);\n        },\n        deleteData(id, name) {\n            this.$swal.fire({\n                icon: 'warning',\n                title: 'Konfirmasi Hapus Album',\n                text: 'Apakah anda yakin akan menghapus album ' + name + '? Dengan menghapus album, semua foto didalam album akan terhapus.',\n                confirmButtonText: 'Ya, hapus album',\n                confirmButtonColor: '#DD6B55',\n                cancelButtonText: 'Batalkan',\n                showCancelButton: true,\n                allowOutsideClick: false,\n            })\n                .then((result) => {\n                    if (result.isConfirmed) {\n                        Event.$emit('showLoading', true);\n\n                        this.$store.dispatch('photo/deleteAlbum', id)\n                            .then((resp) => {\n                                if (resp === 'success') {\n                                    this.page = 0;\n\n                                    this.getData(true);\n\n                                    this.$swal.fire({\n                                        icon: 'success',\n                                        title: 'Data berhasil dihapus!',\n                                        timer: 3000,\n                                    });\n                                } else {\n                                    if (resp.data && resp.data.message) {\n                                        Event.$emit('error', resp.data.message);\n                                    } else {\n                                        Event.$emit('error');\n                                    }\n                                }\n                            });\n                    }\n                });\n        },\n    },\n    mounted() {\n        // console.log('mounted list album');\n        // console.log(this.$route.name);\n    },\n    beforeRouteEnter(to, from, next) {\n        next((vm) => {\n            // console.log(to.name);\n            vm.$store.commit('photo/setListAlbum', {});\n            if (to.name === 'BDI_ListOfPhotoAlbum') {\n                vm.getData();\n            }\n        });\n    },\n};\n</script>\n\n<style lang=\"sass\">\n.block-area\n    max-width: 400px\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Album.vue?vue&type=template&id=43f73d0e&lang=pug&\"\nimport script from \"./Album.vue?vue&type=script&lang=js&\"\nexport * from \"./Album.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Album.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}