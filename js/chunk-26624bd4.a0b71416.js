(window["t"]=window["t"]||[]).push([["chunk-26624bd4"],{1141:function(t,e,i){},2532:function(t,e,i){"use strict";var n=i("23e7"),a=i("5a34"),r=i("1d80"),s=i("577e"),o=i("ab13");n({target:"String",i:!0,s:!o("includes")},{includes:function(t){return!!~s(r(this)).indexOf(s(a(t)),arguments.length>1?arguments[1]:void 0)}})},o:function(t,e,i){"use strict";var n=i("23e7"),a=i("06cf").f,r=i("50c4"),s=i("577e"),o=i("5a34"),c=i("1d80"),l=i("ab13"),u=i("c430"),d="".startsWith,f=Math.min,h=l("startsWith"),m=!u&&!h&&!!function(){var t=a(String.prototype,"startsWith");return t&&!t.l}();n({target:"String",i:!0,s:!m&&!h},{startsWith:function(t){var e=s(c(this));o(t);var i=r(f(arguments.length>1?arguments[1]:void 0,e.length)),n=s(t);return d?d.call(e,n,i):e.slice(i,i+n.length)===n}})},5899:function(t,e){t.u="\t\n\v\f\r                　\u2028\u2029\ufeff"},h:function(t,e,i){var n=i("1d80"),a=i("577e"),r=i("5899"),s="["+r+"]",o=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t){return function(e){var i=a(n(e));return 1&t&&(i=i.replace(o,"")),2&t&&(i=i.replace(c,"")),i}};t.u={start:l(1),end:l(2),trim:l(3)}},m:function(t,e,i){var n=i("44e7");t.u=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},7156:function(t,e,i){var n=i("861d"),a=i("d2bb");t.u=function(t,e,i){var r,s;return a&&"function"==typeof(r=e.constructor)&&r!==i&&n(s=r.prototype)&&s!==i.prototype&&a(t,s),t}},p:function(t,e,i){},v:function(t,e,i){"use strict";var n=i("23e7"),a=i("23cb"),r=i("a691"),s=i("50c4"),o=i("7b0b"),c=i("65f0"),l=i("8418"),u=i("1dde"),d=u("splice"),f=Math.max,h=Math.min,m=9007199254740991,p="Maximum allowed length exceeded";n({target:"Array",i:!0,s:!d},{splice:function(t,e){var i,n,u,d,b,v,g=o(this),w=s(g.length),k=a(t,w),y=arguments.length;if(0===y?i=n=0:1===y?(i=0,n=w-k):(i=y-2,n=h(f(r(e),0),w-k)),w+i-n>m)throw TypeError(p);for(u=c(g,n),d=0;d<n;d++)b=k+d,b in g&&l(u,d,g[b]);if(u.length=n,i<n){for(d=k;d<w-n;d++)b=d+n,v=d+i,b in g?g[v]=g[b]:delete g[v];for(d=w;d>w-n+i;d--)delete g[d-1]}else if(i>n)for(d=w-n;d>k;d--)b=d+n-1,v=d+i-1,b in g?g[v]=g[b]:delete g[v];for(d=0;d<i;d++)g[d+k]=arguments[d+2];return g.length=w-n+i,u}})},g:function(t,e,i){"use strict";i("1141")},k:function(t,e,i){"use strict";var n=i("83ab"),a=i("da84"),r=i("94ca"),s=i("6eeb"),o=i("5135"),c=i("c6b6"),l=i("7156"),u=i("d9b5"),d=i("c04e"),f=i("d039"),h=i("7c73"),m=i("241c").f,p=i("06cf").f,b=i("9bf2").f,v=i("58a8").trim,g="Number",w=a[g],k=w.prototype,y=c(h(k))==g,x=function(t){if(u(t))throw TypeError("Cannot convert a Symbol value to a number");var e,i,n,a,r,s,o,c,l=d(t,"number");if("string"==typeof l&&l.length>2)if(l=v(l),e=l.charCodeAt(0),43===e||45===e){if(i=l.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+l}for(r=l.slice(2),s=r.length,o=0;o<s;o++)if(c=r.charCodeAt(o),c<48||c>a)return NaN;return parseInt(r,n)}return+l};if(r(g,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var C,_=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof _&&(y?f((function(){k.valueOf.call(i)})):c(i)!=g)?l(new w(x(e)),i,_):x(e)},I=n?m(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;I.length>E;E++)o(w,C=I[E])&&!o(_,C)&&b(_,C,p(w,C));_.prototype=k,k.constructor=_,s(a,g,_)}},C:function(t,e,i){var n=i("b622"),a=n("match");t.u=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[a]=!1,"/./"[t](e)}catch(n){}}return!1}},_:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.I,i=t.A.S||e;return i("form",{N:"form-general card-bg-theme p-8 rounded",P:{"max-width":"2000px"},j:{id:"form-album"},B:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("div",{N:"form-general__header w-full"},[i("h2",{N:"text-2xl"},[t.T(t.O("create"===t.id?"Tambah":"Ubah")+" Foto")])]),i("div",{N:"form-general__body w-full"},[i("div",{N:"field field--icon-right w-full"},[i("label",{N:"field-label"},[t.T("Judul Album")]),i("input",{M:[{name:"model",D:"v-model",value:t.U.title,L:"model.title"}],N:"field-style",j:{type:"text",placeholder:"Tulis judul album disini..."},R:{value:t.U.title},B:{input:function(e){e.target.F||t.G(t.U,"title",e.target.value)}}}),t.H.U.title.V?i("span",{N:"field-message text-red-500"},[t.T("This title is required & max length is 255 char.")]):t.K()]),i("div",{N:"field field--icon-right w-full"},[i("label",{N:"field-label"},[t.T("Deskripsi Album")]),i("textarea",{M:[{name:"model",D:"v-model",value:t.U.description,L:"model.description"}],N:"field-style",P:{"padding-top":"1rem","min-height":"160px"},j:{placeholder:"Tulis Deskripsi album disini..."},R:{value:t.U.description},B:{input:function(e){e.target.F||t.G(t.U,"description",e.target.value)}}})]),i("div",{N:"field field--icon-right w-full"},[i("label",{N:"field-label"},[t.T("Unggah Foto")]),i("div",{N:"block box-file-upload"},[i("UploadImages",{B:{W:t.q}})],1),i("span",{N:"field-message"},[t.T("Ukuran maksimal setiap file 2 MB.")])]),"create"!==t.id?i("div",{N:"container-photo field field--icon-right w-full pt-7"},[i("label",{N:"field-label"},[t.T("Foto Tersimpan")]),t.Y.X&&t.Y.X.length>0?i("ul",{N:"block-media"},t.$(t.Y.X,(function(e,n){return i("li",{key:n},[i("img",{M:[{name:"lazy",D:"v-lazy",value:e.J,L:"item.thumbnail"}]}),i("div",{N:"floating-action"},[i("b-button",{j:{Z:"trash",kind:"danger",size:"small",type:"button"},tt:{click:function(i){return t.et(e.id)}}})],1)])})),0):i("span",[t.T("-")])]):t.K()]),i("div",{N:"form-general__footer"},[i("router-link",{j:{it:"/bdi/foto/album"}},[i("b-button",{j:{text:"Batalkan",type:"button"}})],1),i("b-button",{j:{text:"Simpan",kind:"primary",type:"submit"}})],1)])},a=[],r=i("1da1"),s=i("5530"),o=(i("96cf"),i("a4d3"),i("e01a"),i("b64b"),i("caad"),i("2532"),i("d3b7"),i("ddb0"),i("b0c0"),i("2f62")),c=function(){var t=this,e=t.I,i=t.A.S||e;return i("div",{N:"container",B:{nt:function(e){return e.preventDefault(),t.at.apply(null,arguments)},rt:function(e){return e.preventDefault(),t.st.apply(null,arguments)},ot:function(e){return e.preventDefault(),t.ot(e)}}},[i("div",{M:[{name:"show",D:"v-show",value:2==t.ct,L:"dropped == 2"}],N:"drop"}),i("div",{M:[{name:"show",D:"v-show",value:t.error,L:"error"}],N:"error"},[t.T(" "+t.O(t.error)+" ")]),i("div",{M:[{name:"show",D:"v-show",value:0==t.lt.length,L:"Imgs.length == 0"}],N:"beforeUpload"},[i("input",{ut:"uploadInput",P:{"z-index":"1"},j:{type:"file",accept:"image/*",multiple:""},B:{dt:t.ft}}),i("svg",{N:"icon",j:{ht:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[i("title",[t.T("Upload Image")]),i("g",{j:{id:"Upload_Image",pt:"Upload Image"}},[i("g",{j:{id:"_Group_",pt:"<Group>"}},[i("g",{j:{id:"_Group_2",pt:"<Group>"}},[i("g",{j:{id:"_Group_3",pt:"<Group>"}},[i("circle",{P:{fill:"none",stroke:"#303c42","stroke-linecap":"round","stroke-linejoin":"round"},j:{id:"_Path_",pt:"<Path>",cx:"18.5",cy:"16.5",r:"5"}})]),i("polyline",{P:{fill:"none",stroke:"#303c42","stroke-linecap":"round","stroke-linejoin":"round"},j:{id:"_Path_2",pt:"<Path>",points:"16.5 15.5 18.5 13.5 20.5 15.5"}}),i("line",{P:{fill:"none",stroke:"#303c42","stroke-linecap":"round","stroke-linejoin":"round"},j:{id:"_Path_3",pt:"<Path>",x1:"18.5",y1:"13.5",x2:"18.5",y2:"19.5"}})]),i("g",{j:{id:"_Group_4",pt:"<Group>"}},[i("polyline",{P:{fill:"none",stroke:"#303c42","stroke-linecap":"round","stroke-linejoin":"round"},j:{id:"_Path_4",pt:"<Path>",points:"0.6 15.42 6 10.02 8.98 13"}}),i("polyline",{P:{fill:"none",stroke:"#303c42","stroke-linecap":"round","stroke-linejoin":"round"},j:{id:"_Path_5",pt:"<Path>",points:"17.16 11.68 12.5 7.02 7.77 11.79"}}),i("circle",{P:{fill:"none",stroke:"#303c42","stroke-linecap":"round","stroke-linejoin":"round"},j:{id:"_Path_6",pt:"<Path>",cx:"8",cy:"6.02",r:"1.5"}}),i("path",{P:{fill:"none",stroke:"#303c42","stroke-linecap":"round","stroke-linejoin":"round"},j:{id:"_Path_7",pt:"<Path>",d:"M19.5,11.6V4A1.5,1.5,0,0,0,18,2.5H2A1.5,1.5,0,0,0,.5,4V15A1.5,1.5,0,0,0,2,16.5H13.5"}})])])])]),i("p",{N:"mainMessage"},[t.T(" "+t.O(t.bt?t.bt:"Click to upload or drop your images here")+" ")])]),i("div",{M:[{name:"show",D:"v-show",value:t.lt.length>0,L:"Imgs.length > 0"}],N:"imgsPreview"},[i("button",{N:"clearButton",j:{type:"button"},B:{click:t.reset}},[t.T(" "+t.O(t.vt?t.vt:"clear All")+" ")]),t.$(t.lt,(function(e,n){return i("div",{key:n,N:"imageHolder"},[i("img",{j:{src:e}}),i("span",{N:"delete",P:{color:"white"},B:{click:function(e){return t.gt(--n)}}},[i("svg",{N:"icon",j:{ht:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[i("path",{j:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})])]),++n==t.lt.length?i("div",{N:"plus",B:{click:t.append}},[t.T("+")]):t.K()])}))],2)])},l=[],u=i("6b75");function d(t){if(Array.isArray(t))return Object(u["a"])(t)}i("d28b"),i("3ca3"),i("a630");function f(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var h=i("06c5");function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t){return d(t)||f(t)||Object(h["a"])(t)||m()}i("a9e3"),i("159b"),i("2ca0"),i("a434");var b={name:"VueUploadImages",data:function(){return{error:"",files:[],ct:0,lt:[]}},wt:{max:Number,bt:String,kt:String,yt:String,vt:String},xt:{at:function(){this.ct=2},st:function(){},ot:function(t){var e,i=!0,n=Array.from(t.dataTransfer.files);t&&n&&(n.forEach((function(t){!1===t.type.startsWith("image")&&(i=!1)})),1==i?this.Ct.max&&n.length+this.files.length>this.Ct.max?this.error=this.Ct.kt?this.Ct.kt:"Maximum files is"+this.Ct.max:((e=this.files).push.apply(e,p(n)),this.ft()):this.error=this.Ct.yt?this.Ct.yt:"Unsupported file type");this.ct=0},append:function(){this.It._t.click()},readAsDataURL:function(t){return new Promise((function(e,i){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(){i(n)},n.readAsDataURL(t)}))},gt:function(t){this.lt.splice(t,1),this.files.splice(t,1),this.Et("changed",this.files),this.It._t.value=null},ft:function(t){var e,i=this;if(this.Ct.max&&t&&t.currentTarget.files.length+this.files.length>this.Ct.max)this.error=this.Ct.kt?this.Ct.kt:"Maximum files is"+this.Ct.max;else{0==this.ct&&(e=this.files).push.apply(e,p(t.currentTarget.files)),this.error="",this.Et("changed",this.files);var n=[];if(this.files.length){for(var a=0;a<this.files.length;a++)n.push(this.readAsDataURL(this.files[a]));Promise.all(n).then((function(t){i.lt=t}))}}},reset:function(){this.It._t.value=null,this.lt=[],this.files=[],this.Et("changed",this.files)}}},v=b,g=(i("a6ff"),i("2877")),w=Object(g["a"])(v,c,l,!1,null,"44324f62",null),k=w.u,y=i("b5ae"),x={name:"BdiListOfPhotoForm",St:{At:k},data:function(){return{Nt:[],Pt:!0,U:{title:"",description:"",images:[]}}},jt:{U:{title:{required:y["required"],maxLength:Object(y["maxLength"])(255)},description:{},images:{}}},Bt:Object(s["a"])({id:function(){return this.Ot.Tt.id}},Object(o["b"])("photo",["detail_album"])),watch:{id:function(){},Y:function(t){this.U.title=t.title?t.title:"",this.U.description=t.description?t.description:""},Mt:function(t,e){this.Dt(t,e)}},xt:{Ut:function(){this.Pt=!this.Pt},q:function(t){this.U.images=t},Dt:function(t,e){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,r,s,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.Lt=n.next){case 0:if(a=0,r=2048,s=!1,o=null,!(t.length>0)){n.next=15;break}c=0;case 6:if(!(c<t.length)){n.next=15;break}if(a=Math.round(t[c].size/1024),!(a>r)){n.next=12;break}return s=!0,o=c,n.Rt("break",15);case 12:c++,n.next=6;break;case 15:s&&(Event.Et("showLoading","true"),l=document.querySelectorAll(".delete")[o],u=i,d=setInterval((function(){void 0!==document.querySelectorAll(".delete")[o]&&(l=document.querySelectorAll(".delete")[o],l.click(),u.U.images=e,Event.Et("error","Ukuran file lebih dari 2 Mb!")),void 0!==l&&clearInterval(d)}),650));case 16:case"end":return n.stop()}}),n)})))()},getData:function(){var t=arguments,e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.Lt=i.next){case 0:if(n=!(t.length>0&&void 0!==t[0])||t[0],n&&(a=document.querySelector(".clearButton"),a&&a.click()),"create"===e.id){i.next=8;break}return Event.Et("showLoading",!0),i.next=6,e.Gt.Ft("photo/getDetailAlbum",e.id).then((function(t){"success"===t?Event.Et("showLoading",!1):Event.Et("error")}));case 6:i.next=10;break;case 8:return i.next=10,e.Gt.Vt("photo/setDetailAlbum",{});case 10:case"end":return i.stop()}}),i)})))()},Ht:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var e in Object.keys(this.U))!0===t&&(this.U[Object.keys(this.U)[e]]="");this.url=null},reset:function(){var t=this;this.Ht(!0),this.zt((function(){t.H.Kt()}))},et:function(t){var e=this;this.qt.Wt({icon:"warning",title:"Konfirmasi Hapus foto",text:"Apakah anda yakin ingin menghapus foto ini?",Xt:"Hapus foto",Yt:"Batalkan",$t:"#DD6B55",Jt:!0,Qt:!1}).then((function(i){i.Zt&&(Event.Et("showLoading",!0),e.Gt.Ft("photo/deletePhoto",t).then((function(t){"success"===t?(e.getData(!1),e.qt.Wt({icon:"success",title:"Data berhasil dihapus!",te:3e3})):t.data&&t.data.message?Event.Et("error",t.data.message):Event.Et("error")})))}))},submit:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var n,a,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.Lt=i.next){case 0:if(t.preventDefault(),e.H.ee(),!e.H.U.ie){i.next=15;break}i.ne=regeneratorRuntime.keys(Object.keys(e.H.U));case 4:if((i.ae=i.ne()).done){i.next=13;break}if(n=i.ae.value,a=Object.keys(e.H.U)[n],!a.includes("$")){i.next=9;break}return i.Rt("return",!1);case 9:if(!e.H.U[a].V){i.next=11;break}return i.Rt("break",13);case 11:i.next=4;break;case 13:return window.scrollTo(0,0),i.Rt("return");case 15:Event.Et("showLoading",!0),r=e.U,0===r.images.length&&delete r.images,"create"===e.id?e.Gt.Ft("photo/createAlbum",r).then((function(t){"success"===t.result?e.qt.Wt({icon:"success",title:"Data berhasil disimpan.",Xt:"Tetap dihalaman ini",$t:"#5a80e7",Jt:!0,Yt:"Kembali ke BDI",Qt:!1}).then((function(i){i.Zt?(e.re.push({path:"/bdi/foto/form/"+t.data.id}),e.getData()):e.re.push({path:"/bdi/foto/album"}),Event.Et("success","Data berhasil dibuat!")})):Event.Et("error")})):e.Gt.Ft("photo/updateAlbum",[e.id,r]).then((function(t){"success"===t.result?e.qt.Wt({icon:"success",title:"Data berhasil disimpan.",Xt:"Tetap dihalaman ini",$t:"#5a80e7",Jt:!0,Yt:"Kembali ke BDI",Qt:!1}).then((function(t){t.Zt?e.getData():e.re.push({path:"/bdi/foto/album"}),Event.Et("success","Data berhasil diperbarui!")})):Event.Et("error")}));case 19:case"end":return i.stop()}}),i)})))()}},se:function(){},oe:function(t,e,i){i((function(e){"BDI_ListOfPhotoForm"===t.name&&e.getData()}))}},C=x,_=(i("c279"),Object(g["a"])(C,n,a,!1,null,null,null));e["default"]=_.u},ce:function(t,e,i){"use strict";i("81d4")},le:function(t,e,i){"use strict";var n=i("23e7"),a=i("4d64").includes,r=i("44d2");n({target:"Array",i:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")}}]);
//# sourceMappingURL=chunk-26624bd4.a0b71416.js.map